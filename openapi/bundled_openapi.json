{
  "openapi": "3.0.3",
  "info": {
    "title": "sh api",
    "version": "n0.1"
  },
  "servers": [
    {
      "url": "{api_domain}/api/{api_version}",
      "variables": {
        "api_domain": {
          "default": "https://dev.simple-home.liis.su",
          "enum": [
            "https://dev.simple-home.liis.su",
            "https://simple-home.liis.su",
            "http://localhost:8080"
          ]
        },
        "api_version": {
          "default": "v2",
          "enum": [
            "v2",
            "v1"
          ]
        }
      }
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "paths": {
    "/api/v2/admin/buildings/{building_id}/set_apartments": {
      "put": {
        "operationId": "admin-set-building-apartments",
        "description": "Привязывает аппартаменты к зданию",
        "tags": [
          "buildings"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "building_id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "id здания",
            "example": 1
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "apartments": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "список привязанных апартаментов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "updated_apartments": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "некорректные данные в запросе",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "недостаточно прав доступа",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "здание не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/buildings/{building_id}": {
      "delete": {
        "operationId": "admin-buildings-delete",
        "description": "Удаляет здание",
        "tags": [
          "buildings"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "id здания",
            "example": 1
          }
        ],
        "responses": {
          "204": {
            "description": "Успешное удаление"
          },
          "400": {
            "description": "некорректные данные в запросе",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "недостаточно прав доступа",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "здание не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-buildings-update",
        "description": "обновляет название здания",
        "tags": [
          "buildings"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "id здания",
            "example": 1
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Успешное удаление"
          },
          "400": {
            "description": "некорректные данные в запросе",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "недостаточно прав доступа",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "здание не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/buildings": {
      "post": {
        "operationId": "admin-buildings-create",
        "description": "Создает несколько зданий",
        "tags": [
          "buildings"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "title"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "успешно создано",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "title": {
                          "type": "string"
                        },
                        "residence_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "title"
                      ]
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "residence_id": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "title"
                        ]
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "некорректные данные в запросе",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Entity already exists!"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "недостаточно прав доступа",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-buildings-delete",
        "description": "Удаляет несколько зданий",
        "tags": [
          "buildings"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешное удаление"
          },
          "400": {
            "description": "некорректные данные в запросе",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "недостаточно прав доступа",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "здание не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/support/create_report": {
      "post": {
        "operationId": "support-request-create",
        "description": "Отправка запроса в службу поддержки",
        "tags": [
          "customers_support"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "subject": {
                    "type": "string",
                    "example": "Приложение вылетает или работает неправильно"
                  },
                  "message": {
                    "type": "string",
                    "example": "Говно ваш симпл хоум, а не умный дом!"
                  },
                  "apartment_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "email": {
                    "type": "string",
                    "example": "angry_customer@email.com"
                  },
                  "app_version": {
                    "type": "string",
                    "example": "simplehome v 2.20.1"
                  },
                  "device_brand": {
                    "type": "string",
                    "example": "Apple"
                  },
                  "device_model": {
                    "type": "string",
                    "example": "SE (2-nd generation)"
                  },
                  "device_operational_system": {
                    "type": "string",
                    "example": "IOS"
                  },
                  "device_operational_system_version": {
                    "type": "string",
                    "example": 16.7
                  },
                  "is_anonymous": {
                    "type": "boolean",
                    "example": false
                  },
                  "is_response_required": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "request_id": {
                      "type": "integer",
                      "example": 1
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Subject \"Kekus Pekus\" Is Unknown!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/support/list_subjects": {
      "get": {
        "operationId": "list-supported-subjects",
        "description": "Получение списка поддерживаемых тем обращений в поддержку",
        "tags": [
          "customers_support"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "eng": {
                        "type": "string",
                        "example": "The app crashes or works incorrectly"
                      },
                      "rus": {
                        "type": "string",
                        "example": "Приложение вылетает или работает неправильно"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/get_weather": {
      "get": {
        "operationId": "get_weather",
        "description": "Получение информации о погоде",
        "tags": [
          "weather"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 228
                    },
                    "temperature": {
                      "type": "number",
                      "example": -5
                    },
                    "condition_text": {
                      "type": "string",
                      "example": "Blowing snow"
                    },
                    "condition_icon": {
                      "type": "string",
                      "example": "//cdn.weatherapi.com/weather/64x64/day/227.png"
                    },
                    "condition_code": {
                      "type": "integer",
                      "example": 1114
                    },
                    "wind_speed": {
                      "type": "number",
                      "example": 29.9
                    },
                    "wind_direction": {
                      "type": "string",
                      "example": "N"
                    },
                    "pressure": {
                      "type": "number",
                      "example": 1007
                    },
                    "humidity": {
                      "type": "number",
                      "example": 68
                    },
                    "city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Account Apartment is Required!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Account Apartment Not Found"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Weather Not Found"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/images": {
      "post": {
        "operationId": "image-create",
        "description": "загрузка изображений",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "room_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "residence_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_residence_ordering_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "support_chat_room_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "file": {
                      "type": "string",
                      "format": "binary"
                    }
                  },
                  "required": [
                    "file"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "url": {
                          "type": "string",
                          "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                        },
                        "file_path": {
                          "type": "string",
                          "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                        },
                        "hash": {
                          "type": "string",
                          "example": "7aead86346e6a96620ff0b8c4661d2da"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "updated_at": {
                          "type": "string",
                          "example": "2021-05-05T05:32:34.598281+00:00"
                        }
                      },
                      "required": [
                        "id",
                        "url",
                        "file_path",
                        "hash",
                        "updated_at"
                      ]
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "url": {
                            "type": "string",
                            "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                          },
                          "file_path": {
                            "type": "string",
                            "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                          },
                          "hash": {
                            "type": "string",
                            "example": "7aead86346e6a96620ff0b8c4661d2da"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2021-05-05T05:32:34.598281+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "url",
                          "file_path",
                          "hash",
                          "updated_at"
                        ]
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Validation Error"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/images/intermediate/hash/{hash}": {
      "get": {
        "operationId": "fileservice-download",
        "description": "скачивание изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "hash",
            "required": true,
            "description": "Хеш изображения из таблицы Image",
            "schema": {
              "type": "string",
              "example": "7aead86346e6a96620ff0b8c4661d2da"
            }
          },
          {
            "in": "query",
            "name": "access_token",
            "required": false,
            "schema": {
              "type": "string",
              "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwaG9uZV9udW1iZXIiOiIrNzkxMTE0MDc4MDkiLCJlbWFpbCI6InNpbXBsZWhvbWVAeWFuZGV4LnJ1IiwiZXhwIjoxNzAzODQ5OTc5LCJhcGFydG1lbnRfaWQiOm51bGwsInNjaGVtYSI6InB1YmxpYyJ9.Id-rYB-WIYF_Sl_JtnYuun2uum_fX_qJwO0GP7LTbRs"
            }
          },
          {
            "in": "header",
            "name": "Authorization",
            "required": false,
            "schema": {
              "type": "string",
              "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwaG9uZV9udW1iZXIiOiIrNzkxMTE0MDc4MDkiLCJlbWFpbCI6InNpbXBsZWhvbWVAeWFuZGV4LnJ1IiwiZXhwIjoxNzAzODQ5OTc5LCJhcGFydG1lbnRfaWQiOm51bGwsInNjaGVtYSI6InB1YmxpYyJ9.Id-rYB-WIYF_Sl_JtnYuun2uum_fX_qJwO0GP7LTbRs"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Возвращает изображение",
            "content": {
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Invalid Image Hash!"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not Authorized!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Image Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/images/intermediate/hash/{hash}": {
      "get": {
        "operationId": "fileservice-download-by-intermediate",
        "description": "скачивание изображения с помощью intermediate токена",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "hash",
            "required": true,
            "description": "Хеш изображения из таблицы Image",
            "schema": {
              "type": "string",
              "example": "7aead86346e6a96620ff0b8c4661d2da"
            }
          },
          {
            "in": "query",
            "name": "intermediate_token",
            "required": true,
            "schema": {
              "type": "string",
              "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwaG9uZV9udW1iZXIiOiIrNzkxMTE0MDc4MDkiLCJleHAiOjE2NzgxMjE4NjIuOTU0MzM3NCwiYXBhcnRtZW50X2lkIjpudWxsLCJzY2hlbWEiOm51bGx9.cfIMZviJq2g5aT21FJQ5zRkNYkyUIhtH7ro6JBjMAHU"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Возвращает изображение",
            "content": {
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Invalid Image Hash!"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Invalid Token!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Intermediate Token Expired!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Image Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/images/{image_id}": {
      "delete": {
        "operationId": "image-delete",
        "description": "удаление изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "image_id",
            "description": "id изображения",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Изображение удалено"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/images": {
      "get": {
        "operationId": "admin-image-list",
        "description": "Получение списка изображений",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-image-create",
        "description": "Загрузка изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "room_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "residence_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_residence_ordering_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "support_chat_room_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Изображение уже существует в файловом хранилище. Изображение записано в БД",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          },
          "201": {
            "description": "Изображение загружено в файловое хранилище и записано в БД",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Validation Error"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/images/templates": {
      "post": {
        "operationId": "admin-image-template-create",
        "description": "Загрузка изображения в шаблон комнаты (как я понял)",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "path",
            "required": true,
            "description": "Отражает путь к папке в файловом хранилище, в которой будет сохранено изображение",
            "schema": {
              "type": "string",
              "example": "%2Fimages%2Fresidences%2F4%2Frooms%2Ftemplates%2FАр деко"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Validation Error"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/images/{image_id}": {
      "get": {
        "operationId": "admin-image-retrieve",
        "description": "Получение изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "image_id",
            "description": "id изображения",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-image-delete",
        "description": "Удаление изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "image_id",
            "description": "id изображения",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "изображение удалено"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-image-update",
        "description": "Изменение изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "image_id",
            "description": "id изображения",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                  }
                },
                "required": [
                  "url"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "url": {
                      "type": "string",
                      "example": "api/v2/images/hash/7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "file_path": {
                      "type": "string",
                      "example": "/images/account_residence_ordering/3/7aead86346e6a96620ff0b8c4661d2da.jpg"
                    },
                    "hash": {
                      "type": "string",
                      "example": "7aead86346e6a96620ff0b8c4661d2da"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-05-05T05:32:34.598281+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "url",
                    "file_path",
                    "hash",
                    "updated_at"
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Entity already exists!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/resources": {
      "get": {
        "operationId": "admin-fileservice-resources",
        "description": "Получение списка изображений по роуту из файлового хранилища",
        "tags": [
          "images",
          "fileservice"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "path",
            "required": false,
            "description": "Отражает путь к папке в файловом хранилище, в которой будет сохранено изображение",
            "schema": {
              "type": "string",
              "example": "images/residences/1"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "path": {
                                "type": "string",
                                "example": "/images/residences/1/3dda8598a9c2805ff0d73ec58bbcbe0a.png"
                              },
                              "name": {
                                "type": "string",
                                "example": "3dda8598a9c2805ff0d73ec58bbcbe0a.png"
                              },
                              "size": {
                                "type": "integer",
                                "example": 316000
                              },
                              "extension": {
                                "type": "string",
                                "example": ".png"
                              },
                              "modified": {
                                "type": "string",
                                "example": "2021-05-17T05:56:24Z"
                              },
                              "mode": {
                                "type": "integer",
                                "example": 493
                              },
                              "isDir": {
                                "type": "boolean",
                                "example": false
                              },
                              "isSymlink": {
                                "type": "boolean",
                                "example": false
                              },
                              "type": {
                                "type": "string",
                                "example": "image"
                              },
                              "hash": {
                                "type": "string",
                                "example": "3dda8598a9c2805ff0d73ec58bbcbe0a"
                              },
                              "api_url": {
                                "type": "string",
                                "example": "/api/v2/images/hash/3dda8598a9c2805ff0d73ec58bbcbe0a"
                              }
                            },
                            "required": [
                              "path",
                              "name",
                              "size",
                              "extension",
                              "modified",
                              "mode",
                              "isDir",
                              "isSymlink",
                              "type"
                            ]
                          }
                        }
                      }
                    },
                    {
                      "type": "object"
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/images/hash/{hash}": {
      "get": {
        "operationId": "admin-fileservice-download",
        "description": "скачивание изображения",
        "tags": [
          "images"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "hash",
            "required": true,
            "description": "Хеш изображения из таблицы Image",
            "schema": {
              "type": "string",
              "example": "7aead86346e6a96620ff0b8c4661d2da"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Возвращает изображение",
            "content": {
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Invalid Image Hash!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/images/create_dir": {
      "post": {
        "operationId": "admin-fileservice-create-dir",
        "description": "Создание папки в файловом хранилище",
        "tags": [
          "images",
          "fileservice"
        ],
        "parameters": [
          {
            "name": "path",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "example": "images/residences/52/rooms/templates/Классика/"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "example": "Directory created"
                }
              }
            }
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "example": "Directory not created"
                }
              }
            }
          }
        }
      }
    },
    "/admin/images/search": {
      "get": {
        "operationId": "admin-fileservice-search",
        "description": "Поиск файла в файловом сервисе",
        "tags": [
          "images",
          "fileservice"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "schema": {
              "type": "string"
            },
            "description": "Поисковой запрос. Принимает имя файла или папки",
            "example": "3335b78e86fd5343d31b2867fc7036b5.pdf"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Тип файла: image/audio/video/pdf",
            "example": "pdf"
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "dir": {
                        "type": "boolean",
                        "example": false
                      },
                      "path": {
                        "type": "string",
                        "example": "controller_temp/wirenboard-AQM5XQ53/3335b78e86fd5343d31b2867fc7036b5.pdf"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Validation Error"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/notifications": {
      "get": {
        "operationId": "admin-notifications-list",
        "description": "Получение списка уведомлений",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "send_dt_from",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "send_dt_to",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "body": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "apartment_id": {
                        "type": "integer"
                      },
                      "send_date": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string"
                      },
                      "updated_at": {
                        "type": "string"
                      },
                      "device_type": {
                        "type": "string"
                      },
                      "device_subtype": {
                        "type": "string"
                      },
                      "user_notifications": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "account_id": {
                            "type": "integer"
                          },
                          "is_read": {
                            "type": "boolean"
                          },
                          "type": {
                            "type": "string"
                          },
                          "notification_id": {
                            "type": "integer"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "account_id",
                          "type",
                          "is_read"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-notifications-create",
        "description": "Создание уведомления",
        "tags": [
          "notifications"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "body": {
                    "type": "string"
                  },
                  "title_eng": {
                    "type": "string"
                  },
                  "body_eng": {
                    "type": "string"
                  },
                  "account_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "send_date": {
                    "type": "string"
                  }
                },
                "required": [
                  "title",
                  "body",
                  "title_eng",
                  "body_eng",
                  "send_date"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "body": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "send_date": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "device_type": {
                      "type": "string"
                    },
                    "device_subtype": {
                      "type": "string"
                    },
                    "user_notifications": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "account_id": {
                          "type": "integer"
                        },
                        "is_read": {
                          "type": "boolean"
                        },
                        "type": {
                          "type": "string"
                        },
                        "notification_id": {
                          "type": "integer"
                        },
                        "updated_at": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "account_id",
                        "type",
                        "is_read"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-notifications-delete",
        "description": "Удаление множества уведомлений",
        "tags": [
          "notifications"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Хер его, что он возвращает. Там обращение происходит к несуществующей таблице..."
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов действий"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/notifications/{notification_id}": {
      "get": {
        "operationId": "admin-notifications-retrieve",
        "description": "Получение уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "body": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "send_date": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "device_type": {
                      "type": "string"
                    },
                    "device_subtype": {
                      "type": "string"
                    },
                    "user_notifications": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "account_id": {
                          "type": "integer"
                        },
                        "is_read": {
                          "type": "boolean"
                        },
                        "type": {
                          "type": "string"
                        },
                        "notification_id": {
                          "type": "integer"
                        },
                        "updated_at": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "account_id",
                        "type",
                        "is_read"
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-notifications-delete",
        "description": "Удаление уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Уведомление удалено"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "admin-notifications-update",
        "description": "Обновление уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "body": {
                    "type": "string"
                  },
                  "title_eng": {
                    "type": "string"
                  },
                  "body_eng": {
                    "type": "string"
                  },
                  "account_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "send_date": {
                    "type": "string"
                  }
                },
                "required": [
                  "title",
                  "body",
                  "title_eng",
                  "body_eng",
                  "send_date"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "body": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "send_date": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "device_type": {
                      "type": "string"
                    },
                    "device_subtype": {
                      "type": "string"
                    },
                    "user_notifications": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "account_id": {
                          "type": "integer"
                        },
                        "is_read": {
                          "type": "boolean"
                        },
                        "type": {
                          "type": "string"
                        },
                        "notification_id": {
                          "type": "integer"
                        },
                        "updated_at": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "account_id",
                        "type",
                        "is_read"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/notifications": {
      "get": {
        "operationId": "notifications-list",
        "description": "Получение списка уведомлений",
        "tags": [
          "notifications"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "account_id": {
                        "type": "integer"
                      },
                      "is_read": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string"
                      },
                      "notification_id": {
                        "type": "integer"
                      },
                      "updated_at": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      },
                      "body": {
                        "type": "string"
                      },
                      "notification_type": {
                        "type": "string"
                      },
                      "apartment_id": {
                        "type": "integer"
                      },
                      "apartment_number": {
                        "type": "string"
                      },
                      "send_date": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string"
                      },
                      "device_type": {
                        "type": "string"
                      },
                      "device_subtype": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "notifications-delete-all",
        "description": "Удаление всех уведомлений",
        "tags": [
          "notifications"
        ],
        "responses": {
          "204": {
            "description": "все уведомления удалены"
          }
        }
      }
    },
    "/notifications/read_all_notifications": {
      "post": {
        "operationId": "notifications-read-all",
        "description": "Пометить все уведомления как прочитанные",
        "tags": [
          "notifications"
        ],
        "responses": {
          "200": {
            "description": "Все уведомления прочитаны"
          }
        }
      }
    },
    "/notifications/count_unread": {
      "get": {
        "operationId": "notifications-count-unread",
        "description": "Выдача количества непрочитанных уведомлений",
        "tags": [
          "notifications"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/notifications/{notification_id}": {
      "get": {
        "operationId": "notifications-retrieve",
        "description": "Получение уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "account_id": {
                        "type": "integer"
                      },
                      "is_read": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string"
                      },
                      "notification_id": {
                        "type": "integer"
                      },
                      "updated_at": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      },
                      "body": {
                        "type": "string"
                      },
                      "notification_type": {
                        "type": "string"
                      },
                      "apartment_id": {
                        "type": "integer"
                      },
                      "apartment_number": {
                        "type": "string"
                      },
                      "send_date": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string"
                      },
                      "device_type": {
                        "type": "string"
                      },
                      "device_subtype": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "apartment_id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Notification Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "notifications-delete",
        "description": "Удаление уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "уведомление удалено"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Notification Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "notifications-update",
        "description": "Удаление уведомления",
        "tags": [
          "notifications"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "description": "id уведомления",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_read": {
                    "type": "boolean"
                  },
                  "account_id": {
                    "type": "integer"
                  },
                  "notification_id": {
                    "type": "integer"
                  }
                },
                "required": [
                  "notification_id",
                  "account_id",
                  "is_read"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "is_read": {
                      "type": "boolean"
                    },
                    "type": {
                      "type": "string"
                    },
                    "notification_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "account_id",
                    "type",
                    "is_read"
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automations": {
      "get": {
        "operationId": "list_automations",
        "description": "Получение списка автоматизаций",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение списка автоматизаций",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "is_active": {
                        "type": "boolean"
                      },
                      "apartment_id": {
                        "type": "integer"
                      },
                      "extra": {
                        "type": "string",
                        "description": "json"
                      },
                      "creator_id": {
                        "type": "integer"
                      },
                      "updated_at": {
                        "type": "string"
                      },
                      "created_at": {
                        "type": "string"
                      },
                      "residence_id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "icon_tag": {
                        "type": "string"
                      },
                      "time_offset": {
                        "type": "integer"
                      },
                      "actions": {
                        "type": "array"
                      },
                      "triggers": {
                        "type": "array"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "apartment_id должно быть числовым значением",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "create_automation",
        "description": "Создание автоматизации",
        "tags": [
          "automations"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_active": {
                    "type": "boolean"
                  },
                  "apartment_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "icon_tag": {
                    "type": "string",
                    "example": "toy"
                  },
                  "time_offset": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Автоматизация успешно создана",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            },
            "links": {
              "GetAutomationById": {
                "operationRef": "../../openapi.yaml#/paths/~1admin~1automations~1{automation_id}/get",
                "parameters": {
                  "automation_id": "$response.body#/id"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Entity already exists!"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_multiple",
        "description": "Удаление нескольких автоматизаций",
        "tags": [
          "automations"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Автоматизации удалены"
          }
        }
      }
    },
    "/admin/automations/{automation_id}": {
      "get": {
        "operationId": "retrieve_automation",
        "description": "Получение автоматизации",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение автоматизации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_one",
        "description": "Удаление автоматизации",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Автоматизация удалена"
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "update_one",
        "description": "Обновление автоматизации",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_active": {
                    "type": "boolean"
                  },
                  "apartment_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "icon_tag": {
                    "type": "string",
                    "example": "toy"
                  },
                  "time_offset": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Автоматизация успешно обновлена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automations/clone/{automation_id}": {
      "post": {
        "operationId": "clone_automation",
        "description": "Клонирование автоматизации",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение автоматизации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/automations/{automation_id}": {
      "get": {
        "operationId": "user_retrieve_automation",
        "description": "Получение автоматизации пользователем",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение автоматизации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Id must be an integer"
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "user_delete_one",
        "description": "Удаление автоматизации пользователем",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Автоматизация удалена"
          },
          "400": {
            "description": "Id must be an integer"
          },
          "403": {
            "description": "Not enough permissions"
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "user_update_one",
        "description": "Обновление автоматизации пользователем",
        "tags": [
          "automations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_id",
            "description": "id автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_active": {
                    "type": "boolean"
                  },
                  "apartment_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "icon_tag": {
                    "type": "string",
                    "example": "toy"
                  },
                  "time_offset": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Автоматизация успешно обновлена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "description": "json"
                    },
                    "creator_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "actions": {
                      "type": "array"
                    },
                    "triggers": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Not enough permissions"
          },
          "404": {
            "description": "Не найдено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/automation_triggers": {
      "get": {
        "operationId": "user_list_automation_triggers",
        "description": "Выдача списка триггеров автоматизаций для пользователя",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "automation_id",
                      "type"
                    ],
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string",
                        "example": "time"
                      },
                      "time_condition": {
                        "type": "string",
                        "example": "2021-05-27 12:55:54.940827+00:00"
                      },
                      "repeat_condition": {
                        "type": "string"
                      },
                      "is_repeatable": {
                        "type": "boolean"
                      },
                      "event_condition": {
                        "type": "string"
                      },
                      "event_address": {
                        "type": "string"
                      },
                      "event_capability_id": {
                        "type": "integer"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "user_create_automation_trigger",
        "description": "Создание триггера автоматизации пользователем",
        "tags": [
          "automation_triggers"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "automation_id",
                  "type"
                ],
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string",
                    "example": "time"
                  },
                  "time_condition": {
                    "type": "string",
                    "example": "2021-05-27 12:55:54.940827+00:00"
                  },
                  "repeat_condition": {
                    "type": "string"
                  },
                  "is_repeatable": {
                    "type": "boolean"
                  },
                  "event_condition": {
                    "type": "string"
                  },
                  "event_address": {
                    "type": "string"
                  },
                  "event_capability_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "automation_id",
                    "type"
                  ],
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string",
                      "example": "time"
                    },
                    "time_condition": {
                      "type": "string",
                      "example": "2021-05-27 12:55:54.940827+00:00"
                    },
                    "repeat_condition": {
                      "type": "string"
                    },
                    "is_repeatable": {
                      "type": "boolean"
                    },
                    "event_condition": {
                      "type": "string"
                    },
                    "event_address": {
                      "type": "string"
                    },
                    "event_capability_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/automation_triggers/{automation_trigger_id}": {
      "get": {
        "operationId": "user_get_automation_triggers",
        "description": "Получение триггера автоматизации для пользователя",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "automation_id",
                    "type"
                  ],
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string",
                      "example": "time"
                    },
                    "time_condition": {
                      "type": "string",
                      "example": "2021-05-27 12:55:54.940827+00:00"
                    },
                    "repeat_condition": {
                      "type": "string"
                    },
                    "is_repeatable": {
                      "type": "boolean"
                    },
                    "event_condition": {
                      "type": "string"
                    },
                    "event_address": {
                      "type": "string"
                    },
                    "event_capability_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "user_delete_automation_trigger",
        "description": "Удаление триггера автоматизации пользователем",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Триггер удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "user_update_automation_trigger",
        "description": "Обновление триггера автоматизации пользователем",
        "tags": [
          "automation_triggers"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "automation_id",
                  "type"
                ],
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string",
                    "example": "time"
                  },
                  "time_condition": {
                    "type": "string",
                    "example": "2021-05-27 12:55:54.940827+00:00"
                  },
                  "repeat_condition": {
                    "type": "string"
                  },
                  "is_repeatable": {
                    "type": "boolean"
                  },
                  "event_condition": {
                    "type": "string"
                  },
                  "event_address": {
                    "type": "string"
                  },
                  "event_capability_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "automation_id",
                      "type"
                    ],
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string",
                        "example": "time"
                      },
                      "time_condition": {
                        "type": "string",
                        "example": "2021-05-27 12:55:54.940827+00:00"
                      },
                      "repeat_condition": {
                        "type": "string"
                      },
                      "is_repeatable": {
                        "type": "boolean"
                      },
                      "event_condition": {
                        "type": "string"
                      },
                      "event_address": {
                        "type": "string"
                      },
                      "event_capability_id": {
                        "type": "integer"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automation_triggers": {
      "get": {
        "operationId": "admin_list_automation_triggers",
        "description": "Выдача списка триггеров автоматизаций для админа",
        "tags": [
          "automation_triggers"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "automation_id",
                      "type"
                    ],
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string",
                        "example": "time"
                      },
                      "time_condition": {
                        "type": "string",
                        "example": "2021-05-27 12:55:54.940827+00:00"
                      },
                      "repeat_condition": {
                        "type": "string"
                      },
                      "is_repeatable": {
                        "type": "boolean"
                      },
                      "event_condition": {
                        "type": "string"
                      },
                      "event_address": {
                        "type": "string"
                      },
                      "event_capability_id": {
                        "type": "integer"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin_create_automation_trigger",
        "description": "Создание триггера автоматизации пользователем",
        "tags": [
          "automation_triggers"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "automation_id",
                  "type"
                ],
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string",
                    "example": "time"
                  },
                  "time_condition": {
                    "type": "string",
                    "example": "2021-05-27 12:55:54.940827+00:00"
                  },
                  "repeat_condition": {
                    "type": "string"
                  },
                  "is_repeatable": {
                    "type": "boolean"
                  },
                  "event_condition": {
                    "type": "string"
                  },
                  "event_address": {
                    "type": "string"
                  },
                  "event_capability_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "automation_id",
                    "type"
                  ],
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string",
                      "example": "time"
                    },
                    "time_condition": {
                      "type": "string",
                      "example": "2021-05-27 12:55:54.940827+00:00"
                    },
                    "repeat_condition": {
                      "type": "string"
                    },
                    "is_repeatable": {
                      "type": "boolean"
                    },
                    "event_condition": {
                      "type": "string"
                    },
                    "event_address": {
                      "type": "string"
                    },
                    "event_capability_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation with id {automation_id} not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_delete_multiple_automation_triggers",
        "description": "Удаление множества триггеров автоматизаций админом",
        "tags": [
          "automation_triggers"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "automation_id",
                          "type"
                        ],
                        "properties": {
                          "automation_id": {
                            "type": "integer"
                          },
                          "type": {
                            "type": "string",
                            "example": "time"
                          },
                          "time_condition": {
                            "type": "string",
                            "example": "2021-05-27 12:55:54.940827+00:00"
                          },
                          "repeat_condition": {
                            "type": "string"
                          },
                          "is_repeatable": {
                            "type": "boolean"
                          },
                          "event_condition": {
                            "type": "string"
                          },
                          "event_address": {
                            "type": "string"
                          },
                          "event_capability_id": {
                            "type": "integer"
                          },
                          "extra": {
                            "type": "string",
                            "example": {}
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713Z"
                          }
                        }
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных триггеров"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automation_triggers/{automation_trigger_id}": {
      "get": {
        "operationId": "admin_get_automation_triggers",
        "description": "Получение триггера автоматизации для админа",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "automation_id",
                    "type"
                  ],
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string",
                      "example": "time"
                    },
                    "time_condition": {
                      "type": "string",
                      "example": "2021-05-27 12:55:54.940827+00:00"
                    },
                    "repeat_condition": {
                      "type": "string"
                    },
                    "is_repeatable": {
                      "type": "boolean"
                    },
                    "event_condition": {
                      "type": "string"
                    },
                    "event_address": {
                      "type": "string"
                    },
                    "event_capability_id": {
                      "type": "integer"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "residence_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_delete_automation_trigger",
        "description": "Удаление триггера автоматизации админом",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Триггер удален"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin_update_automation_trigger",
        "description": "Обновление триггера автоматизации админом",
        "tags": [
          "automation_triggers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_trigger_id",
            "description": "id триггера автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "automation_id",
                  "type"
                ],
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string",
                    "example": "time"
                  },
                  "time_condition": {
                    "type": "string",
                    "example": "2021-05-27 12:55:54.940827+00:00"
                  },
                  "repeat_condition": {
                    "type": "string"
                  },
                  "is_repeatable": {
                    "type": "boolean"
                  },
                  "event_condition": {
                    "type": "string"
                  },
                  "event_address": {
                    "type": "string"
                  },
                  "event_capability_id": {
                    "type": "integer"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "automation_id",
                      "type"
                    ],
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string",
                        "example": "time"
                      },
                      "time_condition": {
                        "type": "string",
                        "example": "2021-05-27 12:55:54.940827+00:00"
                      },
                      "repeat_condition": {
                        "type": "string"
                      },
                      "is_repeatable": {
                        "type": "boolean"
                      },
                      "event_condition": {
                        "type": "string"
                      },
                      "event_address": {
                        "type": "string"
                      },
                      "event_capability_id": {
                        "type": "integer"
                      },
                      "extra": {
                        "type": "string",
                        "example": {}
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Trigger Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/automation_actions/{automation_action_id}": {
      "get": {
        "operationId": "user_get_automation_action",
        "description": "Получение действия автоматизации для пользователя",
        "tags": [
          "automation_actions"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string"
                    },
                    "capability_id": {
                      "type": "integer"
                    },
                    "scenario_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    },
                    "notification_text": {
                      "type": "string"
                    },
                    "notification_recipients": {
                      "type": "array",
                      "example": null
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "apartment_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "user_delete_automation_action",
        "description": "Удаление действия автоматизации пользователем",
        "tags": [
          "automation_actions"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Действие удалено"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "user_update_automation_action",
        "description": "Обновление триггера автоматизации пользователем",
        "tags": [
          "automation_actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string"
                  },
                  "capability_id": {
                    "type": "integer"
                  },
                  "scenario_id": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "string"
                  },
                  "notification_text": {
                    "type": "string"
                  },
                  "notification_recipients": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string"
                      },
                      "capability_id": {
                        "type": "integer"
                      },
                      "scenario_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      },
                      "notification_text": {
                        "type": "string"
                      },
                      "notification_recipients": {
                        "type": "array",
                        "example": null
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "apartment_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/automation_actions": {
      "get": {
        "operationId": "user_list_automation_actions",
        "description": "Выдача списка триггеров автоматизаций для пользователя",
        "tags": [
          "automation_actions"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "required": false,
            "description": "Обязательный параметр, если объект request не содержит apartment",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string"
                      },
                      "capability_id": {
                        "type": "integer"
                      },
                      "scenario_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      },
                      "notification_text": {
                        "type": "string"
                      },
                      "notification_recipients": {
                        "type": "array",
                        "example": null
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "apartment_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Id Must Be An Integer!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "user_create_automation_action",
        "description": "Создание триггера автоматизации пользователем",
        "tags": [
          "automation_actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string"
                  },
                  "capability_id": {
                    "type": "integer"
                  },
                  "scenario_id": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "string"
                  },
                  "notification_text": {
                    "type": "string"
                  },
                  "notification_recipients": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string"
                    },
                    "capability_id": {
                      "type": "integer"
                    },
                    "scenario_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    },
                    "notification_text": {
                      "type": "string"
                    },
                    "notification_recipients": {
                      "type": "array",
                      "example": null
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "apartment_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automation_actions/{automation_action_id}": {
      "get": {
        "operationId": "admin_get_automation_action",
        "description": "Получение действия автоматизации для админа",
        "tags": [
          "automation_actions"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string"
                    },
                    "capability_id": {
                      "type": "integer"
                    },
                    "scenario_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    },
                    "notification_text": {
                      "type": "string"
                    },
                    "notification_recipients": {
                      "type": "array",
                      "example": null
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "apartment_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_delete_automation_action",
        "description": "Удаление действия автоматизации админом",
        "tags": [
          "automation_actions"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Действие удалено"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin_update_automation_action",
        "description": "Обновление триггера автоматизации админом",
        "tags": [
          "automation_actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string"
                  },
                  "capability_id": {
                    "type": "integer"
                  },
                  "scenario_id": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "string"
                  },
                  "notification_text": {
                    "type": "string"
                  },
                  "notification_recipients": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "automation_action_id",
            "description": "id действия автоматизации",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string"
                      },
                      "capability_id": {
                        "type": "integer"
                      },
                      "scenario_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      },
                      "notification_text": {
                        "type": "string"
                      },
                      "notification_recipients": {
                        "type": "array",
                        "example": null
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "apartment_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Automation Action Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/automation_actions": {
      "get": {
        "operationId": "admin_list_automation_actions",
        "description": "Выдача списка триггеров автоматизаций для админа",
        "tags": [
          "automation_actions"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "automation_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string"
                      },
                      "capability_id": {
                        "type": "integer"
                      },
                      "scenario_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      },
                      "notification_text": {
                        "type": "string"
                      },
                      "notification_recipients": {
                        "type": "array",
                        "example": null
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713Z"
                      },
                      "apartment_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin_create_automation_action",
        "description": "Создание триггера автоматизации админом",
        "tags": [
          "automation_actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "automation_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string"
                  },
                  "capability_id": {
                    "type": "integer"
                  },
                  "scenario_id": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "string"
                  },
                  "notification_text": {
                    "type": "string"
                  },
                  "notification_recipients": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "automation_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string"
                    },
                    "capability_id": {
                      "type": "integer"
                    },
                    "scenario_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    },
                    "notification_text": {
                      "type": "string"
                    },
                    "notification_recipients": {
                      "type": "array",
                      "example": null
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713Z"
                    },
                    "apartment_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_delete_multiple_automation_action",
        "description": "Удаление множества действий автоматизации админом",
        "tags": [
          "automation_actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "automation_id": {
                            "type": "integer"
                          },
                          "type": {
                            "type": "string"
                          },
                          "extra": {
                            "type": "string"
                          },
                          "capability_id": {
                            "type": "integer"
                          },
                          "scenario_id": {
                            "type": "integer"
                          },
                          "value": {
                            "type": "string"
                          },
                          "notification_text": {
                            "type": "string"
                          },
                          "notification_recipients": {
                            "type": "array",
                            "example": null
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713Z"
                          },
                          "apartment_id": {
                            "type": "integer"
                          }
                        }
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных действий триггеров"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/apartment_templates": {
      "get": {
        "operationId": "admin-apartment-templates-list",
        "description": "Получение списка шаблонов квартир",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          },
          {
            "in": "query",
            "name": "created_before_date",
            "required": false,
            "schema": {
              "type": "string",
              "example": "2023-03-02 13:22:06.993476%2B00:00"
            }
          },
          {
            "in": "query",
            "name": "created_after_date",
            "required": false,
            "schema": {
              "type": "string",
              "example": "2023-03-02 13:22:06.993476%2B00:00"
            }
          },
          {
            "in": "query",
            "name": "updated_before_date",
            "required": false,
            "schema": {
              "type": "string",
              "example": "2023-03-02 13:22:06.993476%2B00:00"
            }
          },
          {
            "in": "query",
            "name": "updated_after_date",
            "required": false,
            "schema": {
              "type": "string",
              "example": "2023-03-02 13:22:06.993476%2B00:00"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "controller_ip": {
                        "type": "string"
                      },
                      "controller_port": {
                        "type": "integer"
                      },
                      "residence_id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "created_at": {
                        "type": "string"
                      },
                      "updated_at": {
                        "type": "string"
                      },
                      "created_user_id": {
                        "type": "integer"
                      },
                      "last_updated_user_id": {
                        "type": "integer"
                      },
                      "is_dhcp": {
                        "type": "boolean"
                      },
                      "integrator_id": {
                        "type": "integer"
                      }
                    },
                    "required": [
                      "id",
                      "controller_port",
                      "title",
                      "created_at",
                      "updated_at",
                      "created_user_id",
                      "last_updated_user_id",
                      "is_dhcp"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-apartment-templates-create",
        "description": "Создание шаблона квартиры",
        "tags": [
          "apartment_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "controller_ip": {
                    "type": "string"
                  },
                  "controller_port": {
                    "type": "integer"
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "is_dhcp": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "controller_port",
                  "is_dhcp",
                  "title"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "controller_ip": {
                      "type": "string",
                      "nullable": true
                    },
                    "controller_port": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "title": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_user_id": {
                      "type": "integer"
                    },
                    "last_updated_user_id": {
                      "type": "integer"
                    },
                    "is_dhcp": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "controller_port",
                    "title",
                    "created_at",
                    "updated_at",
                    "created_user_id",
                    "last_updated_user_id",
                    "is_dhcp"
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Entity already exists!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "controller_ip required if is_dhcp is false"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-apartment-templates-delete",
        "description": "Удаление множества шаблонов квартир",
        "tags": [
          "apartment_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "controller_ip": {
                            "type": "string",
                            "nullable": true
                          },
                          "controller_port": {
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "integer",
                            "nullable": true
                          },
                          "title": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "created_user_id": {
                            "type": "integer"
                          },
                          "last_updated_user_id": {
                            "type": "integer"
                          },
                          "is_dhcp": {
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "id",
                          "controller_port",
                          "title",
                          "created_at",
                          "updated_at",
                          "created_user_id",
                          "last_updated_user_id",
                          "is_dhcp"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов квартир"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/apartment_templates/import_apartments": {
      "post": {
        "operationId": "admin-apartment-templates-import",
        "description": "Импорт шаблонов квартир из xlsx файла.",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "residence_id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "created_apartments": {
                      "type": "integer"
                    },
                    "created_controllers": {
                      "type": "integer"
                    },
                    "created_drivers": {
                      "type": "integer"
                    },
                    "created_rooms": {
                      "type": "integer"
                    },
                    "created_device": {
                      "type": "integer"
                    },
                    "created_capabilities": {
                      "type": "integer"
                    },
                    "created_scenarios": {
                      "type": "integer"
                    },
                    "created_actions": {
                      "type": "integer"
                    },
                    "raised_exceptions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "line_index": {
                            "type": "integer"
                          },
                          "apartment_number": {
                            "type": "string"
                          },
                          "floor_number": {
                            "type": "string"
                          },
                          "error_message": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "residence_id Must Be An Integer!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "residence_id Must Not Be None!"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "Must Be An Integer": {
                    "value": {
                      "detail": "residence_id Must Be An Integer!"
                    }
                  },
                  "Must Not Be None": {
                    "value": {
                      "detail": "residence_id Must Not Be None!"
                    }
                  },
                  "Wrong file format": {
                    "value": {
                      "detail": "Wrong file format!"
                    }
                  },
                  "Apartment Types Not Exists": {
                    "value": {
                      "detail": "Apartment Types Not Exists! Create Apartments Types First"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/apartment_templates/{apartment_template_id}": {
      "get": {
        "operationId": "admin-apartment-templates-retrieve",
        "description": "Получение шаблона квартиры по id",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "controller_ip": {
                      "type": "string",
                      "nullable": true
                    },
                    "controller_port": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "title": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_user_id": {
                      "type": "integer"
                    },
                    "last_updated_user_id": {
                      "type": "integer"
                    },
                    "is_dhcp": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "controller_port",
                    "title",
                    "created_at",
                    "updated_at",
                    "created_user_id",
                    "last_updated_user_id",
                    "is_dhcp"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-apartment-templates-delete",
        "description": "Удаление шаблона квартиры",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон квартиры удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Validation Error"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Not enough permissions"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/apartment_templates/controller/{apartment_template_id}": {
      "put": {
        "operationId": "admin-apartment-templates-update-controller",
        "description": "Данный метод обновляет только те поля в шаблоне квартиры, которые относятся к контроллеру.",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "controller_ip": {
                    "type": "string"
                  },
                  "is_dhcp": {
                    "type": "boolean"
                  },
                  "controller_port": {
                    "type": "integer"
                  }
                },
                "required": [
                  "is_dhcp",
                  "controller_port"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "controller_ip": {
                      "type": "string",
                      "nullable": true
                    },
                    "controller_port": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "title": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_user_id": {
                      "type": "integer"
                    },
                    "last_updated_user_id": {
                      "type": "integer"
                    },
                    "is_dhcp": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "controller_port",
                    "title",
                    "created_at",
                    "updated_at",
                    "created_user_id",
                    "last_updated_user_id",
                    "is_dhcp"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/apartment_templates/apartment/{apartment_template_id}": {
      "put": {
        "operationId": "admin-apartment-templates-update-apartment",
        "description": "Данный метод обновляет только те поля в шаблоне квартиры, которые относятся к квартире.",
        "tags": [
          "apartment_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "residence_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  }
                },
                "required": [
                  "title"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "controller_ip": {
                      "type": "string",
                      "nullable": true
                    },
                    "controller_port": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "title": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string"
                    },
                    "created_user_id": {
                      "type": "integer"
                    },
                    "last_updated_user_id": {
                      "type": "integer"
                    },
                    "is_dhcp": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "controller_port",
                    "title",
                    "created_at",
                    "updated_at",
                    "created_user_id",
                    "last_updated_user_id",
                    "is_dhcp"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/room_templates": {
      "get": {
        "operationId": "admin-room-templates-list",
        "description": "Получение списка шаблонов комнат",
        "tags": [
          "rooms_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "finishing_type": {
                        "type": "string"
                      },
                      "image_id": {
                        "type": "integer"
                      }
                    },
                    "required": [
                      "id",
                      "apartment_template_id",
                      "title"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-room-templates-create",
        "description": "Создание шаблонов комнат",
        "tags": [
          "rooms_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "finishing_type": {
                      "type": "string"
                    },
                    "image_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "apartment_template_id",
                    "title"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "finishing_type": {
                        "type": "string"
                      },
                      "image_id": {
                        "type": "integer"
                      }
                    },
                    "required": [
                      "id",
                      "apartment_template_id",
                      "title"
                    ]
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Payload Type Must Be List Or Dict, Not {type(data)}"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-room-templates-delete",
        "description": "Удаление множества шаблонов комнат",
        "tags": [
          "rooms_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string"
                          },
                          "finishing_type": {
                            "type": "string"
                          },
                          "image_id": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "id",
                          "apartment_template_id",
                          "title"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов комнат"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/room_templates/{room_template_id}": {
      "get": {
        "operationId": "admin-room-templates-retrieve",
        "description": "Получение шаблона комнаты",
        "tags": [
          "rooms_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "room_template_id",
            "description": "id шаблона комнаты",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "finishing_type": {
                      "type": "string"
                    },
                    "image_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "id",
                    "apartment_template_id",
                    "title"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-room-templates-update",
        "description": "Обновление шаблона комнаты",
        "tags": [
          "rooms_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "room_template_id",
            "description": "id шаблона комнаты",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "finishing_type": {
                    "type": "string"
                  },
                  "image_id": {
                    "type": "integer"
                  }
                },
                "required": [
                  "apartment_template_id",
                  "title"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "finishing_type": {
                      "type": "string"
                    },
                    "image_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "id",
                    "apartment_template_id",
                    "title"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-room-templates-delete",
        "description": "Удаление шаблона комнаты",
        "tags": [
          "rooms_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "room_template_id",
            "description": "id шаблона комнаты",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон комнаты удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/driver_templates": {
      "get": {
        "operationId": "admin-driver-templates-list",
        "description": "Получение  списка шаблонов драйверов",
        "tags": [
          "drivers_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "ip": {
                        "type": "string"
                      },
                      "port": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      }
                    },
                    "required": [
                      "apartment_template_id",
                      "ip",
                      "port",
                      "type",
                      "id"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-driver-templates-create",
        "description": "Создание шаблона драйвера",
        "tags": [
          "drivers_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "ip": {
                      "type": "string"
                    },
                    "port": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    }
                  },
                  "required": [
                    "apartment_template_id",
                    "ip",
                    "port",
                    "type"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "ip": {
                        "type": "string"
                      },
                      "port": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      }
                    },
                    "required": [
                      "apartment_template_id",
                      "ip",
                      "port",
                      "type",
                      "id"
                    ]
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-driver-templates-delete",
        "description": "Удаление множества шаблонов драйверов",
        "tags": [
          "drivers_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "ip": {
                            "type": "string"
                          },
                          "port": {
                            "type": "integer"
                          },
                          "type": {
                            "type": "string"
                          },
                          "extra": {
                            "type": "string",
                            "example": {},
                            "nullable": true
                          }
                        },
                        "required": [
                          "apartment_template_id",
                          "ip",
                          "port",
                          "type",
                          "id"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов драйверов"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/driver_templates/{driver_template_id}": {
      "get": {
        "operationId": "admin-driver-templates-retrieve",
        "description": "Получение шаблона драйвера",
        "tags": [
          "drivers_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "driver_template_id",
            "description": "id шаблона драйвера",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "ip": {
                      "type": "string"
                    },
                    "port": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {},
                      "nullable": true
                    }
                  },
                  "required": [
                    "apartment_template_id",
                    "ip",
                    "port",
                    "type",
                    "id"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-driver-templates-update",
        "description": "Обновление шаблона драйвера",
        "tags": [
          "drivers_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "driver_template_id",
            "description": "id шаблона драйвера",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "ip": {
                    "type": "string"
                  },
                  "port": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                },
                "required": [
                  "apartment_template_id",
                  "ip",
                  "port",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "ip": {
                      "type": "string"
                    },
                    "port": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {},
                      "nullable": true
                    }
                  },
                  "required": [
                    "apartment_template_id",
                    "ip",
                    "port",
                    "type",
                    "id"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-driver-templates-delete",
        "description": "Удаление шаблона драйвера",
        "tags": [
          "drivers_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "driver_template_id",
            "description": "id шаблона драйвера",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Удаление шаблона драйвера"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/device_templates": {
      "get": {
        "operationId": "admin-device-templates-list",
        "description": "Получение списка шаблонов устройств",
        "tags": [
          "devices_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "driver_template_ids",
            "description": "id шаблона драйвера",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "room_template_ids",
            "description": "id шаблона комнаты",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "type",
            "description": "Тип устройства. Обязательный параметр, если subtype указан",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "type",
            "description": "Подтип устройства",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "subtype": {
                        "type": "string"
                      },
                      "driver_template_id": {
                        "type": "integer",
                        "nullable": true
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "description": {
                        "type": "string"
                      },
                      "room_template_id": {
                        "type": "integer",
                        "nullable": true
                      },
                      "icon_tag": {
                        "type": "string",
                        "nullable": true
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      },
                      "capabilities": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "device_template_id": {
                              "type": "integer"
                            },
                            "apartment_template_id": {
                              "type": "integer"
                            },
                            "type": {
                              "type": "string"
                            },
                            "min_value": {
                              "type": "integer",
                              "nullable": true
                            },
                            "max_value": {
                              "type": "integer",
                              "nullable": true
                            },
                            "address": {
                              "type": "string",
                              "nullable": true
                            },
                            "feedback_address": {
                              "type": "string",
                              "nullable": true
                            },
                            "unit": {
                              "type": "string",
                              "nullable": true
                            },
                            "extra": {
                              "type": "string",
                              "example": {},
                              "nullable": true
                            },
                            "function": {
                              "type": "string",
                              "nullable": true
                            },
                            "push_enabled": {
                              "type": "string",
                              "nullable": true
                            }
                          },
                          "required": [
                            "device_template_id",
                            "apartment_template_id",
                            "type",
                            "id"
                          ]
                        }
                      }
                    },
                    "required": [
                      "id",
                      "name",
                      "type",
                      "subtype",
                      "apartment_template_id"
                    ]
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Filter 'type' required when using filter 'subtype'"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-device-templates-create",
        "description": "Создание шаблонов устройств",
        "tags": [
          "devices_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "subtype": {
                      "type": "string"
                    },
                    "driver_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "description": {
                      "type": "string"
                    },
                    "room_template_id": {
                      "type": "integer"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    }
                  },
                  "required": [
                    "name",
                    "type",
                    "subtype",
                    "driver_template_id",
                    "apartment_template_id"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "subtype": {
                        "type": "string"
                      },
                      "driver_template_id": {
                        "type": "integer",
                        "nullable": true
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "description": {
                        "type": "string"
                      },
                      "room_template_id": {
                        "type": "integer",
                        "nullable": true
                      },
                      "icon_tag": {
                        "type": "string",
                        "nullable": true
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      }
                    },
                    "required": [
                      "id",
                      "name",
                      "type",
                      "subtype",
                      "apartment_template_id"
                    ]
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Fail To Find {error_message}"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-device-templates-delete",
        "description": "Удаление множества шаблонов устройств",
        "tags": [
          "devices_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          },
                          "subtype": {
                            "type": "string"
                          },
                          "driver_template_id": {
                            "type": "integer",
                            "nullable": true
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "description": {
                            "type": "string"
                          },
                          "room_template_id": {
                            "type": "integer",
                            "nullable": true
                          },
                          "icon_tag": {
                            "type": "string",
                            "nullable": true
                          },
                          "extra": {
                            "type": "string",
                            "example": {},
                            "nullable": true
                          },
                          "capabilities": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "device_template_id": {
                                  "type": "integer"
                                },
                                "apartment_template_id": {
                                  "type": "integer"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "min_value": {
                                  "type": "integer",
                                  "nullable": true
                                },
                                "max_value": {
                                  "type": "integer",
                                  "nullable": true
                                },
                                "address": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "feedback_address": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "unit": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "extra": {
                                  "type": "string",
                                  "example": {},
                                  "nullable": true
                                },
                                "function": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "push_enabled": {
                                  "type": "string",
                                  "nullable": true
                                }
                              },
                              "required": [
                                "device_template_id",
                                "apartment_template_id",
                                "type",
                                "id"
                              ]
                            }
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "type",
                          "subtype",
                          "apartment_template_id"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов комнат"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/device_templates/{device_template_id}": {
      "get": {
        "operationId": "admin-device-templates-retrieve",
        "description": "Получение шаблона устройства",
        "tags": [
          "devices_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "device_template_id",
            "description": "id шаблона устройства",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "name": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "subtype": {
                      "type": "string"
                    },
                    "driver_template_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "description": {
                      "type": "string"
                    },
                    "room_template_id": {
                      "type": "integer",
                      "nullable": true
                    },
                    "icon_tag": {
                      "type": "string",
                      "nullable": true
                    },
                    "extra": {
                      "type": "string",
                      "example": {},
                      "nullable": true
                    },
                    "capabilities": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "device_template_id": {
                            "type": "integer"
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "type": {
                            "type": "string"
                          },
                          "min_value": {
                            "type": "integer",
                            "nullable": true
                          },
                          "max_value": {
                            "type": "integer",
                            "nullable": true
                          },
                          "address": {
                            "type": "string",
                            "nullable": true
                          },
                          "feedback_address": {
                            "type": "string",
                            "nullable": true
                          },
                          "unit": {
                            "type": "string",
                            "nullable": true
                          },
                          "extra": {
                            "type": "string",
                            "example": {},
                            "nullable": true
                          },
                          "function": {
                            "type": "string",
                            "nullable": true
                          },
                          "push_enabled": {
                            "type": "string",
                            "nullable": true
                          }
                        },
                        "required": [
                          "device_template_id",
                          "apartment_template_id",
                          "type",
                          "id"
                        ]
                      }
                    }
                  },
                  "required": [
                    "id",
                    "name",
                    "type",
                    "subtype",
                    "apartment_template_id"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-device-templates-update",
        "description": "Обновление шаблона устройства",
        "tags": [
          "devices_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "device_template_id",
            "description": "id шаблона устройства",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "subtype": {
                    "type": "string"
                  },
                  "driver_template_id": {
                    "type": "integer"
                  },
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "description": {
                    "type": "string"
                  },
                  "room_template_id": {
                    "type": "integer"
                  },
                  "icon_tag": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  }
                },
                "required": [
                  "name",
                  "type",
                  "subtype",
                  "driver_template_id",
                  "apartment_template_id"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "finishing_type": {
                      "type": "string"
                    },
                    "image_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "id",
                    "apartment_template_id",
                    "title"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-device-templates-delete",
        "description": "Удаление шаблона устройства",
        "tags": [
          "devices_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "device_template_id",
            "description": "id шаблона устройства",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон комнаты удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/capability_templates": {
      "get": {
        "operationId": "admin-capability-templates-list",
        "description": "Получение списка шаблонов навыков",
        "tags": [
          "capability_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "device_template_id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "min_value": {
                        "type": "integer",
                        "nullable": true
                      },
                      "max_value": {
                        "type": "integer",
                        "nullable": true
                      },
                      "address": {
                        "type": "string",
                        "nullable": true
                      },
                      "feedback_address": {
                        "type": "string",
                        "nullable": true
                      },
                      "unit": {
                        "type": "string",
                        "nullable": true
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      },
                      "function": {
                        "type": "string",
                        "nullable": true
                      },
                      "push_enabled": {
                        "type": "string",
                        "nullable": true
                      }
                    },
                    "required": [
                      "device_template_id",
                      "apartment_template_id",
                      "type",
                      "id"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-capability-templates-create",
        "description": "Создание шаблонов навыков",
        "tags": [
          "capability_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "device_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "min_value": {
                      "type": "integer"
                    },
                    "max_value": {
                      "type": "integer"
                    },
                    "address": {
                      "type": "string"
                    },
                    "feedback_address": {
                      "type": "string"
                    },
                    "unit": {
                      "type": "string"
                    },
                    "extra": {
                      "type": "string",
                      "example": {}
                    },
                    "function": {
                      "type": "string"
                    },
                    "push_enabled": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "device_template_id",
                    "apartment_template_id",
                    "type"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "device_template_id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "type": {
                        "type": "string"
                      },
                      "min_value": {
                        "type": "integer",
                        "nullable": true
                      },
                      "max_value": {
                        "type": "integer",
                        "nullable": true
                      },
                      "address": {
                        "type": "string",
                        "nullable": true
                      },
                      "feedback_address": {
                        "type": "string",
                        "nullable": true
                      },
                      "unit": {
                        "type": "string",
                        "nullable": true
                      },
                      "extra": {
                        "type": "string",
                        "example": {},
                        "nullable": true
                      },
                      "function": {
                        "type": "string",
                        "nullable": true
                      },
                      "push_enabled": {
                        "type": "string",
                        "nullable": true
                      }
                    },
                    "required": [
                      "device_template_id",
                      "apartment_template_id",
                      "type",
                      "id"
                    ]
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-capability-templates-delete",
        "description": "Удаление множества шаблонов навыков",
        "tags": [
          "capability_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "device_template_id": {
                            "type": "integer"
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "type": {
                            "type": "string"
                          },
                          "min_value": {
                            "type": "integer",
                            "nullable": true
                          },
                          "max_value": {
                            "type": "integer",
                            "nullable": true
                          },
                          "address": {
                            "type": "string",
                            "nullable": true
                          },
                          "feedback_address": {
                            "type": "string",
                            "nullable": true
                          },
                          "unit": {
                            "type": "string",
                            "nullable": true
                          },
                          "extra": {
                            "type": "string",
                            "example": {},
                            "nullable": true
                          },
                          "function": {
                            "type": "string",
                            "nullable": true
                          },
                          "push_enabled": {
                            "type": "string",
                            "nullable": true
                          }
                        },
                        "required": [
                          "device_template_id",
                          "apartment_template_id",
                          "type",
                          "id"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов комнат"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/capability_templates/{capability_template_id}": {
      "get": {
        "operationId": "admin-capability-templates-retrieve",
        "description": "Получение шаблона навыка",
        "tags": [
          "capability_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "capability_template_id",
            "description": "id шаблона навыка",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "device_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "min_value": {
                      "type": "integer",
                      "nullable": true
                    },
                    "max_value": {
                      "type": "integer",
                      "nullable": true
                    },
                    "address": {
                      "type": "string",
                      "nullable": true
                    },
                    "feedback_address": {
                      "type": "string",
                      "nullable": true
                    },
                    "unit": {
                      "type": "string",
                      "nullable": true
                    },
                    "extra": {
                      "type": "string",
                      "example": {},
                      "nullable": true
                    },
                    "function": {
                      "type": "string",
                      "nullable": true
                    },
                    "push_enabled": {
                      "type": "string",
                      "nullable": true
                    }
                  },
                  "required": [
                    "device_template_id",
                    "apartment_template_id",
                    "type",
                    "id"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-capability-templates-update",
        "description": "Обновление шаблона навыка",
        "tags": [
          "capability_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "capability_template_id",
            "description": "id шаблона навыка",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "device_template_id": {
                    "type": "integer"
                  },
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "min_value": {
                    "type": "integer"
                  },
                  "max_value": {
                    "type": "integer"
                  },
                  "address": {
                    "type": "string"
                  },
                  "feedback_address": {
                    "type": "string"
                  },
                  "unit": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  },
                  "function": {
                    "type": "string"
                  },
                  "push_enabled": {
                    "type": "string"
                  }
                },
                "required": [
                  "device_template_id",
                  "apartment_template_id",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "device_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "type": {
                      "type": "string"
                    },
                    "min_value": {
                      "type": "integer",
                      "nullable": true
                    },
                    "max_value": {
                      "type": "integer",
                      "nullable": true
                    },
                    "address": {
                      "type": "string",
                      "nullable": true
                    },
                    "feedback_address": {
                      "type": "string",
                      "nullable": true
                    },
                    "unit": {
                      "type": "string",
                      "nullable": true
                    },
                    "extra": {
                      "type": "string",
                      "example": {},
                      "nullable": true
                    },
                    "function": {
                      "type": "string",
                      "nullable": true
                    },
                    "push_enabled": {
                      "type": "string",
                      "nullable": true
                    }
                  },
                  "required": [
                    "device_template_id",
                    "apartment_template_id",
                    "type",
                    "id"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-capability-templates-delete",
        "description": "Удаление шаблона навыка",
        "tags": [
          "capability_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "capability_template_id",
            "description": "id шаблона навыка",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон комнаты удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/scenario_templates": {
      "get": {
        "operationId": "admin-scenario-templates-list",
        "description": "Получение списка шаблонов сценариев",
        "tags": [
          "scenario_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "type",
            "description": "Тип сценария. Может быть либо global либо local",
            "required": false,
            "schema": {
              "type": "string",
              "example": "global"
            }
          },
          {
            "in": "query",
            "name": "room_template_ids",
            "description": "ids шаблонов сценариев",
            "required": false,
            "schema": {
              "type": "string",
              "example": "1, 2, 3"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "example": 217
                      },
                      "apartment_template_id": {
                        "type": "integer",
                        "example": 142
                      },
                      "title": {
                        "type": "string",
                        "example": "Ddd"
                      },
                      "trigger_type": {
                        "type": "string",
                        "example": "auto"
                      },
                      "icon_tag": {
                        "type": "string",
                        "example": "day"
                      },
                      "room_template_id": {
                        "type": "integer",
                        "example": 194
                      },
                      "actions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 558
                            },
                            "scenario_template_id": {
                              "type": "integer",
                              "example": 217
                            },
                            "capability_template_id": {
                              "type": "integer",
                              "example": 1296
                            },
                            "apartment_template_id": {
                              "type": "integer",
                              "example": 142
                            },
                            "value": {
                              "type": "string",
                              "example": "1"
                            },
                            "device_template_id": {
                              "type": "integer",
                              "example": 535
                            }
                          },
                          "required": [
                            "scenario_template_id",
                            "capability_template_id",
                            "apartment_template_id",
                            "value",
                            "id"
                          ]
                        }
                      }
                    },
                    "required": [
                      "title",
                      "trigger_type",
                      "apartment_template_id",
                      "id"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-scenario-templates-create",
        "description": "Создание шаблонов сценариев",
        "tags": [
          "scenario_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string"
                    },
                    "trigger_type": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "room_template_id": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "title",
                    "trigger_type",
                    "apartment_template_id"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "trigger_type": {
                        "type": "string"
                      },
                      "icon_tag": {
                        "type": "string",
                        "nullable": true
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "room_template_id": {
                        "type": "integer",
                        "nullable": true
                      }
                    },
                    "required": [
                      "title",
                      "trigger_type",
                      "apartment_template_id",
                      "id"
                    ]
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-scenario-templates-delete",
        "description": "Удаление множества шаблонов сценариев",
        "tags": [
          "scenario_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string"
                          },
                          "trigger_type": {
                            "type": "string"
                          },
                          "icon_tag": {
                            "type": "string",
                            "nullable": true
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "room_template_id": {
                            "type": "integer",
                            "nullable": true
                          }
                        },
                        "required": [
                          "title",
                          "trigger_type",
                          "apartment_template_id",
                          "id"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов сценариев"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/scenario_templates/{scenario_template_id}": {
      "get": {
        "operationId": "admin-scenario-templates-retrieve",
        "description": "Получение шаблона сценария",
        "tags": [
          "scenario_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "scenario_template_id",
            "description": "id шаблона сценария",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 217
                    },
                    "apartment_template_id": {
                      "type": "integer",
                      "example": 142
                    },
                    "title": {
                      "type": "string",
                      "example": "Ddd"
                    },
                    "trigger_type": {
                      "type": "string",
                      "example": "auto"
                    },
                    "icon_tag": {
                      "type": "string",
                      "example": "day"
                    },
                    "room_template_id": {
                      "type": "integer",
                      "example": 194
                    },
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 558
                          },
                          "scenario_template_id": {
                            "type": "integer",
                            "example": 217
                          },
                          "capability_template_id": {
                            "type": "integer",
                            "example": 1296
                          },
                          "apartment_template_id": {
                            "type": "integer",
                            "example": 142
                          },
                          "value": {
                            "type": "string",
                            "example": "1"
                          },
                          "device_template_id": {
                            "type": "integer",
                            "example": 535
                          }
                        },
                        "required": [
                          "scenario_template_id",
                          "capability_template_id",
                          "apartment_template_id",
                          "value",
                          "id"
                        ]
                      }
                    }
                  },
                  "required": [
                    "title",
                    "trigger_type",
                    "apartment_template_id",
                    "id"
                  ]
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-scenario-templates-update",
        "description": "Обновление шаблона сценария",
        "tags": [
          "scenario_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "scenario_template_id",
            "description": "id шаблона сценария",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "device_template_id": {
                    "type": "integer"
                  },
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string"
                  },
                  "min_value": {
                    "type": "integer"
                  },
                  "max_value": {
                    "type": "integer"
                  },
                  "address": {
                    "type": "string"
                  },
                  "feedback_address": {
                    "type": "string"
                  },
                  "unit": {
                    "type": "string"
                  },
                  "extra": {
                    "type": "string",
                    "example": {}
                  },
                  "function": {
                    "type": "string"
                  },
                  "push_enabled": {
                    "type": "string"
                  }
                },
                "required": [
                  "device_template_id",
                  "apartment_template_id",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "trigger_type": {
                      "type": "string"
                    },
                    "icon_tag": {
                      "type": "string",
                      "nullable": true
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "room_template_id": {
                      "type": "integer",
                      "nullable": true
                    }
                  },
                  "required": [
                    "title",
                    "trigger_type",
                    "apartment_template_id",
                    "id"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-scenario-templates-delete",
        "description": "Удаление шаблона сценария",
        "tags": [
          "scenario_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "scenario_template_id",
            "description": "id шаблона сценария",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон сценария удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/action_templates": {
      "get": {
        "operationId": "admin-action-templates-list",
        "description": "Получение списка шаблонов действий",
        "tags": [
          "action_templates"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_template_id",
            "description": "id шаблона квартиры",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "Принимает имя поля, по которому необходимо выполнить сортировку. Для изменения порядка сортировки, перед именем поля вставляется символ \"-\".",
            "schema": {
              "type": "string",
              "example": "-id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "id",
                      "apartment_template_id",
                      "scenario_template_id",
                      "value",
                      "device_template_id",
                      "capability_template_id"
                    ],
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "scenario_template_id": {
                        "type": "integer"
                      },
                      "capability_template_id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      },
                      "device_template_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin-action-templates-create",
        "description": "Создание шаблонов действий",
        "tags": [
          "action_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "scenario_template_id": {
                      "type": "integer"
                    },
                    "capability_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "scenario_template_id",
                    "capability_template_id",
                    "apartment_template_id",
                    "value"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "scenario_template_id": {
                        "type": "integer"
                      },
                      "capability_template_id": {
                        "type": "integer"
                      },
                      "apartment_template_id": {
                        "type": "integer"
                      },
                      "value": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "scenario_template_id",
                      "capability_template_id",
                      "apartment_template_id",
                      "value",
                      "id"
                    ]
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-multiple-action-templates-delete",
        "description": "Удаление множества шаблонов действий",
        "tags": [
          "action_templates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detailed_rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "scenario_template_id": {
                            "type": "integer"
                          },
                          "capability_template_id": {
                            "type": "integer"
                          },
                          "apartment_template_id": {
                            "type": "integer"
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "scenario_template_id",
                          "capability_template_id",
                          "apartment_template_id",
                          "value",
                          "id"
                        ]
                      }
                    },
                    "deleted_rows": {
                      "type": "integer",
                      "example": 1,
                      "description": "Кол-во удаленных шаблонов действий"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/action_templates/{action_template_id}": {
      "get": {
        "operationId": "admin-action-templates-retrieve",
        "description": "Получение шаблона действия",
        "tags": [
          "action_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "action_template_id",
            "description": "id шаблона действия",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id",
                    "apartment_template_id",
                    "scenario_template_id",
                    "value",
                    "device_template_id",
                    "capability_template_id"
                  ],
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "scenario_template_id": {
                      "type": "integer"
                    },
                    "capability_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    },
                    "device_template_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "admin-action-templates-update",
        "description": "Обновление шаблона действия",
        "tags": [
          "action_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "action_template_id",
            "description": "id шаблона действия",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scenario_template_id": {
                    "type": "integer"
                  },
                  "capability_template_id": {
                    "type": "integer"
                  },
                  "apartment_template_id": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "string"
                  }
                },
                "required": [
                  "scenario_template_id",
                  "capability_template_id",
                  "apartment_template_id",
                  "value"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "scenario_template_id": {
                      "type": "integer"
                    },
                    "capability_template_id": {
                      "type": "integer"
                    },
                    "apartment_template_id": {
                      "type": "integer"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "scenario_template_id",
                    "capability_template_id",
                    "apartment_template_id",
                    "value",
                    "id"
                  ]
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "ApartmentTemplates With id {apartment_template_id} Not Found!"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin-action-templates-delete",
        "description": "Удаление шаблона действия",
        "tags": [
          "action_templates"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "action_template_id",
            "description": "id шаблона действия",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Шаблон действия удален"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Validation Error"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not enough permissions"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "example": "Not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/residences/{id}": {
      "put": {
        "operationId": "update",
        "description": "Обновляет объект резиденции",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "created_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "updated_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "image_id": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Успешное получение данных",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "address": {
                      "type": "string"
                    },
                    "city": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "integrator_id": {
                      "type": "integer"
                    },
                    "customer_support_email": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Изображение не найдено"
          },
          "404": {
            "description": "Резиденция не найдена"
          }
        }
      },
      "get": {
        "operationId": "retrieve",
        "description": "Получение резиденции по id",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Объект резиденции",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "address": {
                      "type": "string"
                    },
                    "city": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "integrator_id": {
                      "type": "integer"
                    },
                    "customer_support_email": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete",
        "description": "Удаляет резиденцию по id",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Резиденция успешно удалена"
          },
          "404": {
            "description": "Резиденция не существует"
          }
        }
      }
    },
    "/admin/residences": {
      "get": {
        "operationId": "list",
        "description": "Получение списка доступных резиденций",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "max_result",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "create_dt_after",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "updated_dt_after",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение списка резиденций",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "created_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "image_id": {
                        "type": "integer"
                      },
                      "integrator_id": {
                        "type": "integer"
                      },
                      "customer_support_email": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "create",
        "description": "Создание резиденции",
        "tags": [
          "residences"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "address",
                  "city"
                ],
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "image_id": {
                    "type": "integer"
                  },
                  "integrator_id": {
                    "type": "integer"
                  },
                  "city": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Резиденция успешно создана",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    },
                    "address": {
                      "type": "string"
                    },
                    "city": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "integrator_id": {
                      "type": "integer"
                    },
                    "customer_support_email": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_multiple",
        "description": "Множественное удаление резиденций по их id",
        "tags": [
          "residences"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "список с id резиденций, которые требуется удалить",
                    "example": "[1,2,3,4]"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешное удаление резиденций",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "created_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "image_id": {
                        "type": "integer"
                      },
                      "integrator_id": {
                        "type": "integer"
                      },
                      "customer_support_email": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/residences_and_apartments": {
      "get": {
        "operationId": "get_residences_and_apartments",
        "description": "WARNING! GOVNOROUTE. Этот роут возвращает все резиденты доступные пользователю с апартаментами. Логика выдачи апартаментов - тайна за семью печатями",
        "tags": [
          "residences"
        ],
        "responses": {
          "200": {
            "description": "Успешное получение резиденций с их апартаментами",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "image_id": {
                          "type": "integer"
                        },
                        "integrator_id": {
                          "type": "integer"
                        },
                        "customer_support_email": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "apartments": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_number": {
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "residence_title": {
                            "type": "string"
                          },
                          "type_label": {
                            "type": "string"
                          },
                          "type_label_eng": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/residences/get_list_related_entities": {
      "get": {
        "operationId": "get_list_related_entities",
        "description": "Получение доступных резиденций и",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "schema": {
              "type": "integer"
            },
            "name": "residence_id",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение связанных с резиденцией данных",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "image_id": {
                          "type": "integer"
                        },
                        "integrator_id": {
                          "type": "integer"
                        },
                        "customer_support_email": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "controller_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "driver_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "room_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "scenario_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "device_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Id Must Be An Integer!"
          }
        }
      }
    },
    "/admin/residences/{pk}/buildings": {
      "get": {
        "operationId": "retrieve_buildings",
        "description": "Отдаёт список строений принадлежащих резиденции. Доступно инженеру и выше",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "description": "id резиденции",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешно возвращает список зданий резиденции",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      },
                      "created_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "residence_id": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/residences_accesses/{pk}": {
      "post": {
        "operationId": "multiple_create",
        "description": "Множественное добавление доступов до резиденции",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "description": "id пользователя, у которого обновляется доступ",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "residences_ids"
                ],
                "properties": {
                  "residences_ids": {
                    "description": "список id резиденций, доступ до которых будет изменён",
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "перечисленные доступы успешно добавленны"
          }
        }
      },
      "delete": {
        "operationId": "multiple_delete",
        "description": "Множественное удаление доступов до резиденции",
        "tags": [
          "residences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "description": "id пользователя, у которого обновляется доступ",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "перечисленные доступы успешно удалены"
          }
        }
      }
    },
    "/admin/integrator": {
      "post": {
        "operationId": "create",
        "description": "создаёт нового интегратора. Метод доступен с роли суперпользователя",
        "tags": [
          "integrators"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Название интегратора"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Интегратор успешно создан",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "operationId": "get_integrator",
        "description": "Получить интегратора по произвольному полю. Метод доступен с ролью engeneer и выше",
        "tags": [
          "integrators"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "title",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное получение интегратора",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_integrator",
        "description": "метод доступен только для суперпользователя",
        "tags": [
          "integrators"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "id удаляемого интегратора"
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное удаление интегратора",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/integrators": {
      "get": {
        "operationId": "get_integrators_paginated",
        "description": "получить список всех интеграторов",
        "tags": [
          "integrators"
        ],
        "responses": {
          "200": {
            "description": "список интеграторов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "description": "Обновление полей интегратора. Метод доступен только суперпользователям",
        "tags": [
          "integrators"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "required": false,
            "schema": {
              "type": "integer"
            },
            "description": "id по которому будем обновлять интегратора"
          },
          {
            "in": "query",
            "name": "title",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "title по которому будем обновлять интегратора"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "успешное обновление полей интегратора",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/account_apartment_list_display_preferences": {
      "post": {
        "operationId": "create_list_display_preferences",
        "tags": [
          "preferences"
        ],
        "description": "Создание преференса. Доступно пользователю и выше Достаёт доступные пользователю апартаменты",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "global_scenarios": {
                    "type": "array",
                    "description": "список с какими-то сценариями",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "id сценария"
                        },
                        "title": {
                          "type": "string",
                          "description": "название сценария"
                        }
                      }
                    }
                  },
                  "global_security_order": {
                    "type": "array",
                    "description": "список хуй пойми с чем",
                    "items": {
                      "type": "string"
                    }
                  },
                  "rooms": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "id комнат наверное"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "что-то произошло :/",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2022-02-14T11:59:37.945Z"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "operationId": "retrieve_list_display_preferences",
        "description": "Получение объекта. Доступно с ролью пользователя и выше. По id пользователя достаёт единственную сущность AccountApartmentListDisplayPreferences Итерируем данные апартаментов, лежащие в поле preferences полученного объекта Убираем все апартаменты из поля preferences, которые недоступны пользователю.",
        "responses": {
          "200": {
            "description": "Успешное получение объекта",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "id апартаментов"
                    },
                    "account_id": {
                      "type": "integer",
                      "description": "id некого аккаунта"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2022-02-14T11:59:37.945Z"
                    },
                    "preferences": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "apartment_id": {
                            "type": "integer"
                          },
                          "displayed_title": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/account_apartment_list_display_preferences/{pk}": {
      "put": {
        "operationId": "update_list_display_preferences",
        "description": "Доступно юзеру и выше. Достаёт доступные апартаменты. Проверяет может ли пользователь изменить преференсы (может, если ему доступна резиденция). иначе выплёвывает UserPermissionError. В случае успеха обновляет json поле preferences в AccountApartmentListDisplayPreferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "apartment_id": {
                      "type": "integer"
                    },
                    "displayed_title": {
                      "type": "string"
                    },
                    "displayed_image_hash": {
                      "type": "string"
                    },
                    "displayed_image_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Обновлённый объект AccountApartmentListDisplayPreferences",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2022-02-14T11:59:37.945Z"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Не могу найти >_<"
          }
        }
      },
      "delete": {
        "operationId": "delete_list_display_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "удаление произведено"
          },
          "404": {
            "description": "удаляемый объект не найден"
          }
        }
      }
    },
    "/account_apartment_preferences": {
      "post": {
        "operationId": "create_account_apartment_preferences",
        "description": "Достаёт объект AccountApartmentPreferences. Создаёт новый преференс, если его не существует",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "room_group_support",
            "description": "ни малейшего понимания",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "description": "id апартаментов, в которых мы создаём преференсы",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_order": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_scenarios": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_security_order": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "leakage",
                        "door",
                        "cleaning_mod"
                      ]
                    }
                  },
                  "room_groups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "rooms": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Успешное создание чего-то",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "operationId": "retrieve_account_apartment_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "room_group_support",
            "description": "ни малейшего понимания",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "description": "id апартаментов, в которых мы создаём преференсы",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "успешное получение преференсов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "type of apartment_id must be integer"
          }
        }
      }
    },
    "/account_apartment_preferences/{pk}": {
      "put": {
        "operationId": "update_account_apartment_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "room_group_support",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "account_id": {
                    "type": "integer"
                  },
                  "apartment_id": {
                    "type": "integer"
                  },
                  "updated_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "preferences": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "успешное обновление преференсов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_account_apartment_preferences",
        "tags": [
          "preferences"
        ],
        "description": "удаление объекта AccountApartmentPreferences",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "успешное удаление"
          },
          "404": {
            "description": "успешное удаление AccountApartmentPreferences"
          }
        }
      }
    },
    "/account_apartment_preferences/update_room_group_order/{pk}": {
      "put": {
        "operationId": "update_room_groups_order",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "room_group_support",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "tags": [
          "preferences"
        ],
        "responses": {
          "200": {
            "description": "успешное изменение порядка преференсов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Account Apartment Preferences Not Found!"
          }
        }
      }
    },
    "/account_apartment_preferences/delete_room_groups/{pk}": {
      "delete": {
        "operationId": "delete_room_groups",
        "description": "доступно с ролью пользователя и выше",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_order": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_scenarios": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_security_order": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "leakage",
                        "door",
                        "cleaning_mod"
                      ]
                    }
                  },
                  "room_groups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "rooms": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "успешное изменение порядка преференсов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/account_apartment_preferences/set_default": {
      "post": {
        "operationId": "set_default_apartment_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/account_apartment_preferences/get_default": {
      "get": {
        "operationId": "get_default_apartment_preferences",
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "tags": [
          "preferences"
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/account_apartment_default_preferences": {
      "post": {
        "operationId": "create_account_apartment_default_preferences",
        "tags": [
          "preferences"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_order": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_scenarios": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_security_order": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "leakage",
                        "door",
                        "cleaning_mod"
                      ]
                    }
                  },
                  "room_groups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "rooms": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "operationId": "retrieve_account_apartment_default_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/account_apartment_default_preferences/{pk}": {
      "put": {
        "operationId": "update_account_apartment_default_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_account_apartment_default_preferences",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          },
          "404": {
            "description": "Account Apartment Default Preferences Not Found!"
          }
        }
      }
    },
    "/admin/account_apartment_default_preferences/update_room_groups_order/{pk}": {
      "put": {
        "operationId": "update_room_groups_order",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_order": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_scenarios": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "global_security_order": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "leakage",
                        "door",
                        "cleaning_mod"
                      ]
                    }
                  },
                  "room_groups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "rooms": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "preferences": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Account Apartment Default Preferences Not Found!"
          }
        }
      }
    },
    "/admin/account_apartment_default_preferences/delete_room_groups/{pk}": {
      "delete": {
        "operationId": "delete_room_groups",
        "tags": [
          "preferences"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "account_id": {
                    "type": "integer"
                  },
                  "apartment_id": {
                    "type": "integer"
                  },
                  "updated_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "preferences": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": " — Кто тебе дом строил? Здорово получилось… — Да пидорасы! — ?? — Нанял рабочих залить фундамент. Выкопали, залили, ушли. Нанял каменщиков, те пришли спрашивают: Какие пидорасы фундамент заливали? Стены выложили, ушли. Нанял штукатуров, те тоже — что за пидорасы кладку делали? Ну, и так далее. Вот и получается, что дом строили одни пидорасы… \npidoras architecture pattern"
          }
        }
      }
    },
    "/admin/apartments/{pk}": {
      "get": {
        "operationId": "apartments_retrieve",
        "tags": [
          "apartments"
        ],
        "description": "По сути retrieve метод на получение апартаментов и всего, что в них имеется. Нужно вынести в отдельный роут инфу о контроллере, овнерах и тп",
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "residence_title": {
                          "type": "string"
                        },
                        "type_label": {
                          "type": "string"
                        },
                        "type_label_eng": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "owners": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "owner_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "first_name": {
                            "type": "string",
                            "example": "Владислав"
                          },
                          "last_name": {
                            "type": "string",
                            "example": "Быков"
                          },
                          "middle_name": {
                            "type": "string",
                            "example": "Чел"
                          }
                        }
                      }
                    },
                    "residence_title": {
                      "type": "string",
                      "description": "название  резиденции, которой принадлежат данные апартаменты",
                      "example": "ЖК Зло"
                    },
                    "drivers": {
                      "description": "набор драйверов апартаментов",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "ip": {
                            "type": "string",
                            "example": "192.168.0.74"
                          },
                          "port": {
                            "type": "integer",
                            "example": 1883
                          },
                          "type": {
                            "type": "string",
                            "example": "mqtt"
                          },
                          "controller_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2021-02-01T13:43:38.838000+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2021-02-01T13:43:39.549000+00:00"
                          },
                          "residence_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "extra": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "controller": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "serial_number": {
                          "type": "string",
                          "example": "123"
                        },
                        "uid": {
                          "type": "string",
                          "example": "wirenboard-AVP3C5Z5"
                        },
                        "ip": {
                          "type": "string",
                          "example": "192.168.0.72"
                        },
                        "port": {
                          "type": "integer",
                          "example": 5000
                        },
                        "apartment_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2020-11-26T17:04:17.798601+00:00"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2021-09-01T13:26:40.970440+00:00"
                        },
                        "residence_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "extra": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "description": "удаляет апартаменты. Метод доступен с ролью админа и выше. Апартаменты можно удалить только в случае, если у пользователя есть доступ до апартаментов",
        "operationId": "apartments_delete",
        "tags": [
          "apartments"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "description": "id удаляемых апартаментов",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "204": {
            "description": "успешное удаление"
          },
          "404": {
            "description": "апартаменты не найдены"
          }
        }
      },
      "put": {
        "operationId": "apartments_update",
        "description": "Доступно с ролью админа и выше.",
        "tags": [
          "apartments"
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "description": "номер апартоментов",
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "floor_number": {
                          "type": "integer"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "building_id": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "accounts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "first_name": {
                            "type": "string"
                          },
                          "last_name": {
                            "type": "string"
                          },
                          "middle_name": {
                            "type": "string"
                          },
                          "is_owner": {
                            "type": "boolean"
                          },
                          "account_apartment_id": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/apartments": {
      "get": {
        "operationId": "apartments_list",
        "tags": [
          "apartments"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "description": "производит поиск по apartment_number значению в бд, среди доступных пользователю апартоментов",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "description": "хз",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "description": "noqa",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "max_results",
            "description": "noqa",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "get_all",
            "description": "noqa",
            "deprecated": true,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "in": "query",
            "name": "flor_number",
            "description": "noqa",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "residence_id",
            "description": "id резиденции, в которой производим поиск резиденции",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "building_ids",
            "description": "список строений, внутри которых ищем апартаменты",
            "deprecated": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              }
            }
          },
          {
            "in": "query",
            "name": "apartment_number",
            "description": "noqa",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_type_ids",
            "description": "noqa",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              }
            }
          },
          {
            "in": "query",
            "name": "created_after_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "updated_after_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "created_before_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "updated_before_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "allOf": [
                      {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_number": {
                            "description": "номер апартоментов",
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "floor_number": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "building_id": {
                            "type": "integer"
                          },
                          "comment": {
                            "type": "string"
                          }
                        }
                      }
                    ],
                    "properties": {
                      "type_label": {
                        "type": "string"
                      },
                      "accounts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "allOf": [
                            {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "phone_number": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "first_name": {
                                  "type": "string"
                                },
                                "last_name": {
                                  "type": "string"
                                },
                                "middle_name": {
                                  "type": "string"
                                },
                                "created_at": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "updated_at": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "image_id": {
                                  "type": "integer"
                                },
                                "group_id": {
                                  "type": "integer"
                                },
                                "language": {
                                  "type": "string",
                                  "enum": [
                                    "rus",
                                    "eng"
                                  ]
                                },
                                "integrator_id": {
                                  "type": "integer"
                                }
                              }
                            }
                          ],
                          "properties": {
                            "is_owner": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "not found"
          }
        }
      },
      "post": {
        "operationId": "apartments_create",
        "tags": [
          "apartments"
        ],
        "description": "создание апартоментов. Доступно с ролью админа и выше",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "apartment_number",
                  "floor_number",
                  "residence_id",
                  "apartment_type_id"
                ],
                "properties": {
                  "apartment_number": {
                    "type": "string",
                    "maxLength": 128
                  },
                  "floor_number": {
                    "type": "integer"
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "building_id": {
                    "type": "integer"
                  },
                  "comment": {
                    "type": "string",
                    "maxLength": 1024
                  },
                  "apartment_type_id": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_number": {
                      "description": "номер апартоментов",
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "floor_number": {
                      "type": "integer"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "building_id": {
                      "type": "integer"
                    },
                    "comment": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "apartments_delete_multiple",
        "tags": [
          "apartments"
        ],
        "description": "удаляет несколько апартаментов",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "список с id удаляемых апартоментов",
                "type": "array",
                "items": {
                  "type": "integer"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "description": "кол-во удалённых строк",
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "/admin/apartments/get_list_related_entities": {
      "get": {
        "deprecated": true,
        "operationId": "get_list_related_entities",
        "tags": [
          "apartments"
        ],
        "description": "Доступно с ролью инженера и выше. Возвращает связанные с",
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "description": "вообще, это список. Элементы разделяются символом \"+\"",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "controller_ids": {
                      "type": "integer",
                      "description": "noqa"
                    },
                    "driver_ids": {
                      "type": "integer",
                      "description": "noqa"
                    },
                    "room_ids": {
                      "type": "integer",
                      "description": "noqa"
                    },
                    "scenario_ids": {
                      "type": "integer",
                      "description": "noqa"
                    },
                    "device_ids": {
                      "type": "integer",
                      "description": "noqa"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Id Must Be An Integer! Ошибка валидации"
          }
        }
      }
    },
    "/admin/apartments/change_residence_id/{pk}": {
      "post": {
        "deprecated": true,
        "operationId": "change_residence_id",
        "description": "Доступно инженеру и выше. Должно быть частью логики обновления апартаментов. Привязывает апартаменты и связанные данные к новой резиденции",
        "tags": [
          "apartments"
        ],
        "parameters": [
          {
            "in": "path",
            "description": "id апартаментов, чью резиденцию меняем",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "residence_id"
                ],
                "properties": {
                  "residence_id": {
                    "description": "id новой резиденции",
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "apartment_number": {
                      "description": "номер апартоментов",
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "floor_number": {
                      "type": "integer"
                    },
                    "created_at": {
                      "type": "string"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "building_id": {
                      "type": "integer"
                    },
                    "comment": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/apartments/{pk}": {
      "get": {
        "operationId": "retrieve_user_apartment",
        "tags": [
          "apartments",
          "preferences"
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "description": "номер апартоментов",
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "floor_number": {
                          "type": "integer"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "building_id": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "residence_title": {
                          "type": "string"
                        },
                        "type_label": {
                          "type": "string"
                        },
                        "type_label_eng": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "etag": {
                      "description": "без понятия"
                    },
                    "owners": {
                      "description": "люди у которых есть доступ до апартамента",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "owner_id": {
                            "type": "integer"
                          },
                          "first_name": {
                            "type": "string"
                          },
                          "last_name": {
                            "type": "string"
                          },
                          "middle_name": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "residence_title": {
                      "type": "string"
                    },
                    "drivers": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "apartments_count": {
                          "type": "string"
                        },
                        "global_security_order": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "broker_remote_access": {
                          "type": "object",
                          "properties": {
                            "host": {
                              "type": "string",
                              "example": "dev.cloud.simple-home.liis.su"
                            },
                            "access_token": {
                              "type": "string",
                              "example": "bGlpcy1icm9rZXI6cGVyaW9kaWNhbGx5X2dlbmVyYXRlX2NvbXBsaWNhdGVkX3Bhc3N3b3Jk"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/retrieve_user_by_contact": {
      "get": {
        "operationId": "retrieve_user_by_contact",
        "tags": [
          "users"
        ],
        "description": "Получение пользователя по email или phone_number. Используется в форме предоставления прав доступа.",
        "parameters": [
          {
            "in": "query",
            "name": "email",
            "description": "Email пользователя. Обязательный, если phone_number не был передан.",
            "required": false,
            "schema": {
              "type": "string",
              "example": "test1@liis.su"
            }
          },
          {
            "in": "query",
            "name": "phone_number",
            "description": "Phone_number пользователя. Обязательный, если email не был передан. Номер телефона должен должен начинаться либо с символа '+', либо с символа '8'",
            "required": false,
            "schema": {
              "type": "string",
              "example": "+71234567891"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Пользователь найден",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Neither phone_number or email was provided!"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Wrong phone number format"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "Wrong phone number format"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "detail": {
                          "type": "string",
                          "example": "User not exists!"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{pk}": {
      "get": {
        "operationId": "admin_user_retrieve",
        "description": "доступен инженеру и выше",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "description": "id пользователя",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    },
                    "account_residences": {
                      "type": "array",
                      "description": "список резиденций доступных пользователю",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "image_id": {
                            "type": "integer"
                          },
                          "integrator_id": {
                            "type": "integer"
                          },
                          "customer_support_email": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      },
      "delete": {
        "description": "Доступен администратору и выше.",
        "tags": [
          "users"
        ],
        "operationId": "admin_user_delete",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "description": "id пользователя",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Успешное удаление"
          },
          "403": {
            "description": "В доступе отказанно"
          }
        }
      },
      "patch": {
        "description": "доступно инженеру и выше",
        "operationId": "admin_user_update",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "description": "id пользователя",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/login": {
      "post": {
        "operationId": "admin_login",
        "tags": [
          "auth"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "X-Schema",
            "schema": {
              "type": "string",
              "example": "public"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "client_unique_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешная авторизация"
          }
        }
      }
    },
    "/admin/users/all_user_phones": {
      "get": {
        "description": "Возвращает список всех номеров телефонов. Доступен инженеру и выше. Данный метод не является безопасным. Постарайтесь от него избавиться",
        "deprecated": true,
        "operationId": "all_user_phones",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "description": "номера телефонов"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/registration": {
      "post": {
        "operationId": "registration",
        "description": "Регистрирует нового пользователя. Сервис sh отправляет код подтверждения регистрации сообщением на email",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "phone_number"
                ],
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone_number": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "ru",
                      "en"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "default": "OK"
                    },
                    "expire": {
                      "type": "integer",
                      "description": "время жизни кода подтверждения"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/get_allowed_auth_method": {
      "get": {
        "operationId": "get_allowed_auth_method",
        "description": "получить список всех доступным способов авторизации",
        "tags": [
          "users",
          "auth"
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "country_name": {
                      "type": "string"
                    },
                    "city_name": {
                      "type": "string"
                    },
                    "country_code": {
                      "type": "integer"
                    },
                    "allowed_countries_codes": {
                      "description": "список с поддерживаемыми номерами стран по стандарту iso",
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "is_sms_auth_allowed": {
                      "type": "boolean",
                      "description": "разрешёны ли в стране того, кто запрашивает смс сообщения."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/registration/confirm": {
      "post": {
        "operationId": "confirm_registration",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "email_code"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "maxLength": 256,
                    "format": "email",
                    "pattern": "\\.[Ii][Oo]$"
                  },
                  "email_code": {
                    "type": "integer",
                    "minimum": 1000,
                    "maximum": 9999
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "code not found"
          }
        }
      }
    },
    "/users/login": {
      "post": {
        "operationId": "user_login",
        "description": "Авторизация пользователя. Отправляем код подтверждения",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone_number": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "203": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "example": "OK"
                    },
                    "expire": {
                      "description": "время жизни смс кода (2 минуты)",
                      "example": 120
                    },
                    "user_id": {
                      "type": "integer",
                      "description": "id пользователя под которым был произведён вход"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/login_email": {
      "post": {
        "operationId": "login_using_email",
        "description": "Авторизация пользователя при помощи email. Отправляем код подтверждения",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "maxLength": 256
                  }
                },
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "example": "OK"
                    },
                    "expire": {
                      "description": "время жизни смс кода (2 минуты)",
                      "example": 120
                    },
                    "user_id": {
                      "type": "integer",
                      "description": "id пользователя под которым был произведён вход"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/confirm_code": {
      "post": {
        "operationId": "confirm_code",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phone_number",
                  "sms_code",
                  "client_unique_id"
                ],
                "properties": {
                  "phone_number": {
                    "type": "string",
                    "minLength": 11,
                    "maxLength": 16
                  },
                  "sms_code": {
                    "type": "integer",
                    "minimum": 1000,
                    "maximum": 9999
                  },
                  "client_unique_id": {
                    "type": "string",
                    "maxLength": 64
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "prefix": {
                      "type": "string",
                      "example": "Bearer"
                    },
                    "token": {
                      "type": "string"
                    },
                    "exp_time": {
                      "type": "integer"
                    },
                    "refresh_token": {
                      "type": "string"
                    },
                    "refresh_exp_time": {
                      "type": "string"
                    },
                    "previous_apartment": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "description": "номер апартоментов",
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "floor_number": {
                          "type": "integer"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "building_id": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        }
                      }
                    },
                    "apartmetns": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_number": {
                            "description": "номер апартоментов",
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "floor_number": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "building_id": {
                            "type": "integer"
                          },
                          "comment": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "user_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "en",
                        "ru"
                      ]
                    },
                    "username": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/confirm_email_code": {
      "post": {
        "operationId": "confirm_email_code",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "test1@liis.su"
                  },
                  "email_code": {
                    "type": "integer",
                    "example": 8888
                  },
                  "client_unique_id": {
                    "type": "string",
                    "example": "0e63081028d455931"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "prefix": {
                      "type": "string",
                      "example": "Bearer"
                    },
                    "token": {
                      "type": "string"
                    },
                    "exp_time": {
                      "type": "integer"
                    },
                    "refresh_token": {
                      "type": "string"
                    },
                    "refresh_exp_time": {
                      "type": "string"
                    },
                    "previous_apartment": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "apartment_number": {
                          "description": "номер апартоментов",
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "integer"
                        },
                        "floor_number": {
                          "type": "integer"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "building_id": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        }
                      }
                    },
                    "apartmetns": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "apartment_number": {
                            "description": "номер апартоментов",
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "floor_number": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "building_id": {
                            "type": "integer"
                          },
                          "comment": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "user_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "en",
                        "ru"
                      ]
                    },
                    "username": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/refresh_token_new": {
      "post": {
        "operationId": "refresh_token_new",
        "description": "Запрос нового  токена доступа используя токен обновления",
        "tags": [
          "auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Предыдущий refresh token",
                "properties": {
                  "refresh_token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Данные пользователя",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "prefix": {
                      "type": "string"
                    },
                    "refresh_token": {
                      "type": "string"
                    },
                    "token": {
                      "type": "string"
                    },
                    "exp_time": {
                      "type": "string",
                      "description": "время жизни токена"
                    },
                    "refresh_exp_time": {
                      "type": "string",
                      "description": "время жизни рефреш токена"
                    },
                    "accessible_schemas": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user_details": {
      "get": {
        "operationId": "user_details",
        "description": "Доступен для пользователя и выше. По сути retrieve метод на самого себя.",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "description": "id апартаментов",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Отдаёт информацию",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/{pk}": {
      "delete": {
        "operationId": "users_delete",
        "tags": [
          "users"
        ],
        "description": "Доступно пользователю и выше. Данный метод позволяет удалить пользователя, который вызвал данный метод ._.",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          },
          "404": {
            "description": "невозможно, но это же симплхом. На бэкенде эта логика прописана"
          }
        }
      }
    },
    "/user_info": {
      "get": {
        "operationId": "user_info",
        "tags": [
          "users"
        ],
        "deprecated": true,
        "description": "Дубликат метода user_details. Логику методов требуется объекдинить",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": true,
            "description": "id пользователя по которому достаём инфу",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user_by_phone_number": {
      "post": {
        "operationId": "get_or_create_by_phone_number",
        "description": "Метод находит пользователя по номеру телефона, возвращает. Если пользователя не существует - создаёт его ._.",
        "deprecated": true,
        "parameters": [
          {
            "in": "query",
            "name": "phone_number",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "phone_number": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "first_name": {
                      "type": "string"
                    },
                    "last_name": {
                      "type": "string"
                    },
                    "middle_name": {
                      "type": "string"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "image_id": {
                      "type": "integer"
                    },
                    "group_id": {
                      "type": "integer"
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "rus",
                        "eng"
                      ]
                    },
                    "integrator_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/clients": {
      "get": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_list",
        "description": "Доступно саппорту и выше",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "example": 887
                      },
                      "account_id": {
                        "type": "integer",
                        "example": 491
                      },
                      "os": {
                        "type": "string",
                        "example": "iOS"
                      },
                      "os_version": {
                        "type": "string",
                        "example": "14.4"
                      },
                      "device_name": {
                        "type": "string",
                        "example": "iPhone 8"
                      },
                      "device_model": {
                        "type": "string",
                        "example": "iPhone 8"
                      },
                      "unique_id": {
                        "type": "string",
                        "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                      },
                      "push_token": {
                        "type": "string",
                        "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2021-05-06T20:59:00.584597+00:00"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2021-09-10T09:37:01.756590+00:00"
                      },
                      "last_apartment": {
                        "type": "integer",
                        "example": 51
                      },
                      "source": {
                        "type": "string",
                        "example": "mobile_app"
                      },
                      "ip_address": {
                        "type": "string",
                        "example": "81.95.25.94"
                      },
                      "ip_location_country": {
                        "type": "string",
                        "example": "Россия"
                      },
                      "ip_location_city": {
                        "type": "string",
                        "example": "Санкт-Петербург"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_create",
        "description": "Создание клиента",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "unique_id",
                  "account_id",
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 64
                  },
                  "account_id": {
                    "type": "integer"
                  },
                  "push_token": {
                    "type": "string",
                    "maxLength": 256
                  },
                  "os": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "os_version": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "device_name": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "device_model": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "unique_id": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "auth_token": {
                    "type": "string",
                    "maxLength": 256
                  },
                  "refresh_token": {
                    "type": "string",
                    "maxLength": 256
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 887
                    },
                    "account_id": {
                      "type": "integer",
                      "example": 491
                    },
                    "os": {
                      "type": "string",
                      "example": "iOS"
                    },
                    "os_version": {
                      "type": "string",
                      "example": "14.4"
                    },
                    "device_name": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "device_model": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "unique_id": {
                      "type": "string",
                      "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                    },
                    "push_token": {
                      "type": "string",
                      "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2021-05-06T20:59:00.584597+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-09-10T09:37:01.756590+00:00"
                    },
                    "last_apartment": {
                      "type": "integer",
                      "example": 51
                    },
                    "source": {
                      "type": "string",
                      "example": "mobile_app"
                    },
                    "ip_address": {
                      "type": "string",
                      "example": "81.95.25.94"
                    },
                    "ip_location_country": {
                      "type": "string",
                      "example": "Россия"
                    },
                    "ip_location_city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_multiple_delete",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "description": "список с id удаляемый сессий",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "description": "сколько клиентов было удалено",
                    "type": "integer"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Id Must Be An Integer!"
          },
          "403": {
            "description": "Not enoth permisssions!"
          }
        }
      }
    },
    "/clients/{pk}": {
      "get": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_retrieve",
        "parameters": [
          {
            "in": "path",
            "description": "id сессии",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 887
                    },
                    "account_id": {
                      "type": "integer",
                      "example": 491
                    },
                    "os": {
                      "type": "string",
                      "example": "iOS"
                    },
                    "os_version": {
                      "type": "string",
                      "example": "14.4"
                    },
                    "device_name": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "device_model": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "unique_id": {
                      "type": "string",
                      "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                    },
                    "push_token": {
                      "type": "string",
                      "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2021-05-06T20:59:00.584597+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-09-10T09:37:01.756590+00:00"
                    },
                    "last_apartment": {
                      "type": "integer",
                      "example": 51
                    },
                    "source": {
                      "type": "string",
                      "example": "mobile_app"
                    },
                    "ip_address": {
                      "type": "string",
                      "example": "81.95.25.94"
                    },
                    "ip_location_country": {
                      "type": "string",
                      "example": "Россия"
                    },
                    "ip_location_city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Client not Found"
          }
        }
      },
      "delete": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_delete",
        "description": "удаление сессии пользователя",
        "parameters": [
          {
            "in": "path",
            "description": "id сессии",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          }
        }
      },
      "patch": {
        "tags": [
          "user_session"
        ],
        "operationId": "clients_patch",
        "description": "Обновление сессии. Пользователь не может изменять  Поля: account_id os created_at updated_at unique_id device_model device_name",
        "parameters": [
          {
            "in": "path",
            "description": "id сессии",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "os_version": {
                    "type": "string"
                  },
                  "push_token": {
                    "type": "string"
                  },
                  "auth_token": {
                    "type": "string"
                  },
                  "refresh_token": {
                    "type": "string"
                  },
                  "refresh_exp_time": {
                    "type": "number"
                  },
                  "auth_exp_time": {
                    "type": "number"
                  },
                  "last_apartment": {
                    "type": "string"
                  },
                  "source": {
                    "type": "string"
                  },
                  "ip_address": {
                    "type": "string"
                  },
                  "ip_location_country": {
                    "type": "string"
                  },
                  "ip_location_city": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 887
                    },
                    "account_id": {
                      "type": "integer",
                      "example": 491
                    },
                    "os": {
                      "type": "string",
                      "example": "iOS"
                    },
                    "os_version": {
                      "type": "string",
                      "example": "14.4"
                    },
                    "device_name": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "device_model": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "unique_id": {
                      "type": "string",
                      "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                    },
                    "push_token": {
                      "type": "string",
                      "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2021-05-06T20:59:00.584597+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-09-10T09:37:01.756590+00:00"
                    },
                    "last_apartment": {
                      "type": "integer",
                      "example": 51
                    },
                    "source": {
                      "type": "string",
                      "example": "mobile_app"
                    },
                    "ip_address": {
                      "type": "string",
                      "example": "81.95.25.94"
                    },
                    "ip_location_country": {
                      "type": "string",
                      "example": "Россия"
                    },
                    "ip_location_city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/client_by_unique_id": {
      "get": {
        "tags": [
          "user_session"
        ],
        "operationId": "client_by_unique_id",
        "parameters": [
          {
            "in": "query",
            "name": "unique_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "account_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "push_token": {
                      "type": "string",
                      "description": "без понятия что это. Возможно токен для пуш нотификаций"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/clients": {
      "delete": {
        "tags": [
          "admin_session"
        ],
        "operationId": "multiple_delete_client_session_admin",
        "description": "Удаление множества клиентов (сессий пользователей) админом",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "description": "кол-во удалённого дерьма",
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "/admin/clients/{pk}": {
      "get": {
        "operationId": "admin_clients_retrieve",
        "description": "Получение списка клиентов",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 887
                    },
                    "account_id": {
                      "type": "integer",
                      "example": 491
                    },
                    "os": {
                      "type": "string",
                      "example": "iOS"
                    },
                    "os_version": {
                      "type": "string",
                      "example": "14.4"
                    },
                    "device_name": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "device_model": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "unique_id": {
                      "type": "string",
                      "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                    },
                    "push_token": {
                      "type": "string",
                      "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2021-05-06T20:59:00.584597+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-09-10T09:37:01.756590+00:00"
                    },
                    "last_apartment": {
                      "type": "integer",
                      "example": 51
                    },
                    "source": {
                      "type": "string",
                      "example": "mobile_app"
                    },
                    "ip_address": {
                      "type": "string",
                      "example": "81.95.25.94"
                    },
                    "ip_location_country": {
                      "type": "string",
                      "example": "Россия"
                    },
                    "ip_location_city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_clients_delete",
        "description": "удаляет сессию пользователя. Доступно саппорту и выше",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          }
        }
      },
      "patch": {
        "operationId": "admin_clients_patch",
        "description": "Доступно саппорту и выше",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "account_id",
                  "unique_id"
                ],
                "properties": {
                  "account_id": {
                    "type": "integer"
                  },
                  "push_token": {
                    "type": "string",
                    "maxLength": 256
                  },
                  "os": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "os_version": {
                    "type": "string",
                    "maxLength": 32
                  },
                  "device_name": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "device_model": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "unique_id": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "auth_token": {
                    "type": "string",
                    "maxLength": 256
                  },
                  "refresh_token": {
                    "type": "string",
                    "maxLength": 25
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 887
                    },
                    "account_id": {
                      "type": "integer",
                      "example": 491
                    },
                    "os": {
                      "type": "string",
                      "example": "iOS"
                    },
                    "os_version": {
                      "type": "string",
                      "example": "14.4"
                    },
                    "device_name": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "device_model": {
                      "type": "string",
                      "example": "iPhone 8"
                    },
                    "unique_id": {
                      "type": "string",
                      "example": "4C02CCCA-49A7-4207-A81A-F84A8C72849A"
                    },
                    "push_token": {
                      "type": "string",
                      "example": "eun7vXvWuUIMg0Ow7v82ns:APA91bHK8rwcRiBT1SFOyrILQEOS2zbu9J34znI28Dv2k0MGAeXVoK_gCODtjynmpy9f1oJqX3eQbBrr98qe-NEoFYBnIDcO547DlTXN0o21dQ9sTWI3t2nxOmqB4K03Ukm67cBiq8vH"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2021-05-06T20:59:00.584597+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2021-09-10T09:37:01.756590+00:00"
                    },
                    "last_apartment": {
                      "type": "integer",
                      "example": 51
                    },
                    "source": {
                      "type": "string",
                      "example": "mobile_app"
                    },
                    "ip_address": {
                      "type": "string",
                      "example": "81.95.25.94"
                    },
                    "ip_location_country": {
                      "type": "string",
                      "example": "Россия"
                    },
                    "ip_location_city": {
                      "type": "string",
                      "example": "Санкт-Петербург"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/admin-clients/{pk}": {
      "get": {
        "tags": [
          "admin_session"
        ],
        "operationId": "retrieve_admin_clients",
        "description": "Доступно инженеру и выше. Возвращает текущую сессию пользователя",
        "parameters": [
          {
            "in": "path",
            "name": "pk",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/client_by_unique_id": {
      "get": {
        "tags": [
          "admin_session"
        ],
        "operationId": "admin_clients_client_by_unique_id",
        "description": "Получение клиента по unique_id",
        "parameters": [
          {
            "in": "query",
            "name": "email",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "unique_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "account_id": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios": {
      "get": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_list_scenarios",
        "description": "возвращает пагинированный список сценариев",
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "description": "производится поиск по имени сценария",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "type",
            "description": "тип сценария, глобальный или локальный (что бы это не значило)",
            "schema": {
              "type": "string",
              "enum": [
                "global",
                "local"
              ]
            }
          },
          {
            "in": "query",
            "name": "created_before_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "created_after_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "updated_before_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "updated_after_date",
            "description": "noqa",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "allOf": [
                      {
                        "type": "object",
                        "required": [
                          "title",
                          "trigger_type",
                          "apartment_id"
                        ],
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string",
                            "maxLength": 128
                          },
                          "trigger_type": {
                            "type": "string",
                            "maxLength": 10,
                            "enum": [
                              "auto",
                              "date"
                            ]
                          },
                          "icon_tag": {
                            "type": "string",
                            "maxLength": 512
                          },
                          "apartment_id": {
                            "type": "integer"
                          },
                          "room_id": {
                            "type": "integer"
                          },
                          "residence_id": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "is_predefined": {
                            "type": "boolean"
                          },
                          "is_confirmation_required": {
                            "type": "boolean"
                          },
                          "description": {
                            "type": "string"
                          }
                        }
                      }
                    ],
                    "properties": {
                      "actions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 10518
                            },
                            "scenario_id": {
                              "type": "integer",
                              "example": 1
                            },
                            "capability_id": {
                              "type": "integer",
                              "example": 1
                            },
                            "value": {
                              "type": "string",
                              "maxLength": 12,
                              "example": "1"
                            },
                            "residence_id": {
                              "type": "integer"
                            },
                            "created_at": {
                              "type": "string",
                              "example": "2023-11-28T08:01:22.713972+00:00"
                            },
                            "updated_at": {
                              "type": "string",
                              "example": "2023-11-28T08:01:22.713972+00:00"
                            }
                          },
                          "required": [
                            "id",
                            "scenario_id",
                            "capability_id",
                            "value"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "not found"
          }
        }
      },
      "post": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_scenario_create",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Test5"
                  },
                  "trigger_type": {
                    "type": "string",
                    "example": "auto"
                  },
                  "icon_tag": {
                    "type": "string",
                    "example": "night"
                  },
                  "residence_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "apartment_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "room_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "is_confirmation_required": {
                    "type": "boolean",
                    "example": true
                  },
                  "description": {
                    "type": "string",
                    "example": "very"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_multiple_delete",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "array",
                    "description": "id удаляемых сценариев",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "успешное удаление",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "title",
                      "trigger_type",
                      "apartment_id"
                    ],
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "title": {
                        "type": "string",
                        "maxLength": 128
                      },
                      "trigger_type": {
                        "type": "string",
                        "maxLength": 10,
                        "enum": [
                          "auto",
                          "date"
                        ]
                      },
                      "icon_tag": {
                        "type": "string",
                        "maxLength": 512
                      },
                      "apartment_id": {
                        "type": "integer"
                      },
                      "room_id": {
                        "type": "integer"
                      },
                      "residence_id": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "created_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "is_predefined": {
                        "type": "boolean"
                      },
                      "is_confirmation_required": {
                        "type": "boolean"
                      },
                      "description": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/{pk}": {
      "get": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_scenarios_retrieve",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "description": "id сценария, над которым производится действие",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_scenarios_delete",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "description": "id сценария, над которым производится действие",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          },
          "403": {
            "description": "not allowed"
          }
        }
      },
      "put": {
        "tags": [
          "scenarios"
        ],
        "operationId": "admin_scenarios_update",
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "description": "id сценария, над которым производится действие",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "title",
                    "trigger_type",
                    "apartment_id"
                  ],
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string",
                      "maxLength": 128
                    },
                    "trigger_type": {
                      "type": "string",
                      "maxLength": 10,
                      "enum": [
                        "auto",
                        "date"
                      ]
                    },
                    "icon_tag": {
                      "type": "string",
                      "maxLength": 512
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "room_id": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "is_predefined": {
                      "type": "boolean"
                    },
                    "is_confirmation_required": {
                      "type": "boolean"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/set_room_relations": {
      "post": {
        "tags": [
          "scenarios"
        ],
        "operationId": "set_room_relations",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "room_id": {
                    "type": "integer",
                    "example": 50
                  },
                  "scenario_ids": {
                    "type": "array",
                    "example": [
                      11,
                      13
                    ],
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "description": "кол-во обновлённых объектов",
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/set_global": {
      "post": {
        "operationId": "scenarios_set_global",
        "tags": [
          "scenarios"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "scenario_ids"
                ],
                "properties": {
                  "scenario_ids": {
                    "type": "array",
                    "example": [
                      11,
                      13
                    ],
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "description": "кол-во обновлённых объектов",
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/set_apartment_relations": {
      "post": {
        "operationId": "scenarios_set_apartment_relations",
        "tags": [
          "scenario"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "apartment_id",
                  "scenario_ids"
                ],
                "properties": {
                  "apartment_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "scenario_ids": {
                    "type": "array",
                    "example": [
                      39
                    ],
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "description": "кол-во обновлённых объектов",
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/get_action_ids": {
      "get": {
        "operationId": "scenarios_get_action_ids",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/scenarios/clone/{pk}": {
      "post": {
        "operationId": "scenario_clone",
        "description": "доступно инженеру и выше",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      }
    },
    "/scenarios": {
      "get": {
        "operationId": "scenario_list",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "global",
            "schema": {
              "type": "boolean",
              "example": true
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "scenario_create",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Test5"
                  },
                  "trigger_type": {
                    "type": "string",
                    "example": "auto"
                  },
                  "icon_tag": {
                    "type": "string",
                    "example": "night"
                  },
                  "residence_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "apartment_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "room_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "is_confirmation_required": {
                    "type": "boolean",
                    "example": true
                  },
                  "description": {
                    "type": "string",
                    "example": "very"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "title",
                    "trigger_type",
                    "apartment_id"
                  ],
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "title": {
                      "type": "string",
                      "maxLength": 128
                    },
                    "trigger_type": {
                      "type": "string",
                      "maxLength": 10,
                      "enum": [
                        "auto",
                        "date"
                      ]
                    },
                    "icon_tag": {
                      "type": "string",
                      "maxLength": 512
                    },
                    "apartment_id": {
                      "type": "integer"
                    },
                    "room_id": {
                      "type": "integer"
                    },
                    "residence_id": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "is_predefined": {
                      "type": "boolean"
                    },
                    "is_confirmation_required": {
                      "type": "boolean"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "multiple-scenario-delete",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "example": [
                      1,
                      2
                    ],
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          }
        }
      }
    },
    "/scenarios/{pk}": {
      "get": {
        "operationId": "scenario_retrieve",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "scenario_delete",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "apartment_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          }
        }
      },
      "put": {
        "operationId": "scenario-update",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "type": "object",
                      "required": [
                        "title",
                        "trigger_type",
                        "apartment_id"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 128
                        },
                        "trigger_type": {
                          "type": "string",
                          "maxLength": 10,
                          "enum": [
                            "auto",
                            "date"
                          ]
                        },
                        "icon_tag": {
                          "type": "string",
                          "maxLength": 512
                        },
                        "apartment_id": {
                          "type": "integer"
                        },
                        "room_id": {
                          "type": "integer"
                        },
                        "residence_id": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "is_predefined": {
                          "type": "boolean"
                        },
                        "is_confirmation_required": {
                          "type": "boolean"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "properties": {
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 10518
                          },
                          "scenario_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "capability_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "value": {
                            "type": "string",
                            "maxLength": 12,
                            "example": "1"
                          },
                          "residence_id": {
                            "type": "integer"
                          },
                          "created_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          },
                          "updated_at": {
                            "type": "string",
                            "example": "2023-11-28T08:01:22.713972+00:00"
                          }
                        },
                        "required": [
                          "id",
                          "scenario_id",
                          "capability_id",
                          "value"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/scenarios/activate/{pk}": {
      "post": {
        "operationId": "run-scenario",
        "tags": [
          "scenario"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "apartment_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          }
        }
      }
    },
    "/scenarios/set_actions/{pk}": {
      "post": {
        "operationId": "set-actions",
        "tags": [
          "scenario"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "capability_id": {
                      "type": "integer",
                      "example": 19
                    },
                    "value": {
                      "type": "string",
                      "example": "1"
                    },
                    "residence_id": {
                      "type": "integer",
                      "example": 1
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "example": 104
                      },
                      "scenario_id": {
                        "type": "integer",
                        "example": 31
                      },
                      "capability_id": {
                        "type": "integer",
                        "example": 19
                      },
                      "value": {
                        "type": "string",
                        "example": "1"
                      },
                      "residence_id": {
                        "type": "integer",
                        "example": 1
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2021-02-19T09:56:27.866057+00:00"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/actions": {
      "get": {
        "operationId": "admin_actions_list",
        "tags": [
          "actions"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "scenario_id",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "max_results",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "get_all",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "example": 10518
                      },
                      "scenario_id": {
                        "type": "integer",
                        "example": 1
                      },
                      "capability_id": {
                        "type": "integer",
                        "example": 1
                      },
                      "value": {
                        "type": "string",
                        "maxLength": 12,
                        "example": "1"
                      },
                      "residence_id": {
                        "type": "integer"
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713972+00:00"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713972+00:00"
                      }
                    },
                    "required": [
                      "id",
                      "scenario_id",
                      "capability_id",
                      "value"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "admin_actions_create",
        "tags": [
          "actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "scenario_id",
                  "capability_id",
                  "value",
                  "residence_id"
                ],
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "example": 10518
                      },
                      "scenario_id": {
                        "type": "integer",
                        "example": 1
                      },
                      "capability_id": {
                        "type": "integer",
                        "example": 1
                      },
                      "value": {
                        "type": "string",
                        "maxLength": 12,
                        "example": "1"
                      },
                      "residence_id": {
                        "type": "integer"
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713972+00:00"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "2023-11-28T08:01:22.713972+00:00"
                      }
                    },
                    "required": [
                      "id",
                      "scenario_id",
                      "capability_id",
                      "value"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 10518
                    },
                    "scenario_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "capability_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "value": {
                      "type": "string",
                      "maxLength": 12,
                      "example": "1"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "scenario_id",
                    "capability_id",
                    "value"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "multiple_admin_actions_delete",
        "tags": [
          "actions"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          }
        }
      }
    },
    "/admin/actions/{pk}": {
      "get": {
        "operationId": "admin_actions_retrieve",
        "tags": [
          "actions"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 10518
                    },
                    "scenario_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "capability_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "value": {
                      "type": "string",
                      "maxLength": 12,
                      "example": "1"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "scenario_id",
                    "capability_id",
                    "value"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "admin_actions_delete",
        "tags": [
          "actions"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "success"
          }
        }
      },
      "put": {
        "operationId": "admin_actions_update",
        "tags": [
          "actions"
        ],
        "parameters": [
          {
            "in": "path",
            "required": true,
            "name": "pk",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "example": 10518
                  },
                  "scenario_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "capability_id": {
                    "type": "integer",
                    "example": 1
                  },
                  "value": {
                    "type": "string",
                    "maxLength": 12,
                    "example": "1"
                  },
                  "residence_id": {
                    "type": "integer"
                  },
                  "created_at": {
                    "type": "string",
                    "example": "2023-11-28T08:01:22.713972+00:00"
                  },
                  "updated_at": {
                    "type": "string",
                    "example": "2023-11-28T08:01:22.713972+00:00"
                  }
                },
                "required": [
                  "id",
                  "scenario_id",
                  "capability_id",
                  "value"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 10518
                    },
                    "scenario_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "capability_id": {
                      "type": "integer",
                      "example": 1
                    },
                    "value": {
                      "type": "string",
                      "maxLength": 12,
                      "example": "1"
                    },
                    "residence_id": {
                      "type": "integer"
                    },
                    "created_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    },
                    "updated_at": {
                      "type": "string",
                      "example": "2023-11-28T08:01:22.713972+00:00"
                    }
                  },
                  "required": [
                    "id",
                    "scenario_id",
                    "capability_id",
                    "value"
                  ]
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
